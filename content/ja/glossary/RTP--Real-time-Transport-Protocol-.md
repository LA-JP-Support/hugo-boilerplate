---
title: RTP (リアルタイム転送プロトコル)
date: 2025-12-19
translationKey: RTP--Real-time-Transport-Protocol-
description: RTP(リアルタイム転送プロトコル)の包括的ガイド - IPネットワーク上でリアルタイムアプリケーションにおいて音声と映像を配信するための標準プロトコルです。
keywords:
- RTPプロトコル
- リアルタイム転送
- マルチメディアストリーミング
- VoIP通信
- ビデオ会議
category: Application & Use-Cases
type: glossary
draft: false
e-title: RTP (Real-time Transport Protocol)
url: /ja/glossary/RTP--Real-time-Transport-Protocol-/
term: アールティーピー (リアルタイムてんそうプロトコル)
---

## RTP (Real-time Transport Protocol)とは?
Real-time Transport Protocol(RTP)は、インターネットプロトコル(IP)ネットワーク上でリアルタイムアプリケーション向けに音声および映像コンテンツを配信するために設計された標準化ネットワークプロトコルです。RFC 3550で定義されているRTPは、音声、映像、またはシミュレーションデータなどのリアルタイムデータを、マルチキャストまたはユニキャストネットワークサービス経由で送信するアプリケーションに適したエンドツーエンドのネットワーク転送機能を提供します。このプロトコルはアプリケーション層で動作し、通常はUser Datagram Protocol(UDP)上に実装されますが、他のトランスポートプロトコル上でも機能します。

RTPは現代のマルチメディア通信システムの基盤として機能し、さまざまな特性と品質レベルを持つネットワーク全体で、時間に敏感なメディアストリームの同期配信を可能にします。このプロトコルは、タイミング再構築、損失検出、セキュリティ、コンテンツ識別など、リアルタイムメディア伝送特有の課題に対処します。信頼性を速度よりも優先する従来のファイル転送プロトコルとは異なり、RTPはタイムリーな配信に最適化されており、メディアストリームの時間的整合性を維持するために、一部のデータ損失を許容します。この設計思想により、RTPは遅延がユーザー体験に大きな影響を与えるインタラクティブアプリケーションに特に適しています。

このプロトコルは、RTPフローの帯域外制御情報を提供するRTP Control Protocol(RTCP)と連携して動作します。RTPとRTCPを組み合わせることで、品質監視、輻輳制御、マルチメディアセッションにおける参加者識別をサポートする包括的なリアルタイムメディア配信フレームワークを形成します。RTPの柔軟性と拡張性により、Voice over IP(VoIP)システムやビデオ会議プラットフォームから、ライブストリーミングサービスやオンラインゲームまで、幅広いアプリケーションでリアルタイムメディア転送の事実上の標準となっています。このプロトコルの広範な採用は、Session Initiation Protocol(SIP)、H.323、WebRTCなどの主要な通信規格への統合によって証明されており、現代のネットワークマルチメディアアプリケーションの不可欠なコンポーネントとなっています。

## RTPのコアコンポーネントと技術

<strong>RTPヘッダー構造</strong>- RTPヘッダーには、バージョン番号、ペイロードタイプ、シーケンス番号、タイムスタンプ、同期ソース識別子など、メディアストリーム処理に不可欠な情報が含まれています。この12バイトの固定ヘッダーにより、受信者はメディアストリームを適切に再構築および同期できます。

<strong>ペイロードタイプ</strong>- RTPは、送信されるメディアのエンコード形式、サンプリングレート、その他の特性を指定する標準化されたペイロードタイプ識別子を通じて、さまざまなメディア形式をサポートします。一般的なペイロードタイプには、音声用のG.711、映像用のH.264、DTMFトーン用のRFC 2833などがあります。

<strong>同期ソース(SSRC)</strong>- 各RTPストリームは、一意の32ビットSSRC識別子によって識別され、受信者が異なるメディアソースを区別し、単一のRTPセッション内で複数の同時ストリームを処理できるようにします。

<strong>貢献ソース(CSRC)</strong>- RTPストリームが中間システムによってミキシングまたは転送される場合、CSRC識別子はメディアコンテンツの元のソースを追跡し、ミキシングされた音声または映像ストリームの適切な帰属と処理を可能にします。

<strong>RTP制御プロトコル(RTCP)</strong>- RTCPは、送信統計の監視、適応エンコーディングの制御、最小限のセッション制御情報の伝達のためのフィードバックメカニズムを提供します。RTCPレポートには、送信者レポート、受信者レポート、ソース記述パケットが含まれます。

<strong>RTPプロファイル</strong>- プロファイルは、特定のアプリケーションクラスのための特定のペイロードタイプコードセットとそれに関連する形式を定義します。Audio/Video Profile(AVP)とSecure Audio/Video Profile(SAVP)が最も一般的に実装されているプロファイルです。

<strong>拡張メカニズム</strong>- RTPは、標準RTP実装との後方互換性を維持しながら、アプリケーションがカスタム機能を追加できるヘッダー拡張とプロファイル固有の変更をサポートします。

## RTP(Real-time Transport Protocol)の動作原理

RTPワークフローは、アプリケーションがリアルタイムメディアセッションを開始し、必要なネットワーク接続とセッションパラメータを確立することから始まります。

1. <strong>セッション確立</strong>- アプリケーションは、SIPやH.323などのセッション制御プロトコルを使用して、IPアドレス、ポート番号、ペイロードタイプ、コーデック仕様などのRTPセッションパラメータをネゴシエートします。

2. <strong>メディアエンコーディング</strong>- ソースメディア(音声/映像)がキャプチャされ、合意されたコーデックを使用してエンコードされ、エンコーダーはネットワーク送信の準備ができたメディアフレームまたはサンプルのストリームを生成します。

3. <strong>RTPパケット形成</strong>- 各メディアフレームまたはサンプルは、順序付けのためのシーケンス番号、同期のためのタイムスタンプ、ペイロードタイプ識別を含む適切なヘッダーフィールドを持つRTPパケットにカプセル化されます。

4. <strong>ネットワーク送信</strong>- RTPパケットは、基盤となるトランスポートプロトコルとしてUDPを使用してネットワーク経由で送信され、各パケットは宛先エンドポイントに独立して送信されます。

5. <strong>パケット受信とバッファリング</strong>- 受信アプリケーションは着信RTPパケットを収集し、シーケンス番号を使用して失われたパケットや順序が乱れたパケットを検出し、ジッターバッファを実装してネットワークによるタイミングのばらつきを平滑化します。

6. <strong>ストリーム再構築</strong>- 受信したパケットはシーケンス番号に基づいて並べ替えられ、タイムスタンプを使用してメディアサンプル間の元のタイミング関係を再構築します。

7. <strong>メディアデコードと再生</strong>- 再構築されたメディアストリームがデコードされてユーザーに提示され、アプリケーションは失われたパケットや破損したパケットに対して必要なエラー隠蔽を処理します。

8. <strong>品質監視</strong>- RTCPフィードバックは送信品質の継続的な監視を提供し、エンコーディングパラメータやネットワークルーティング決定の適応的な調整を可能にします。

<strong>ワークフロー例</strong>: VoIP通話では、発信者のマイクが8kHzで音声サンプルをキャプチャし、G.711コーデックを使用してエンコードされ、パケットあたり20msの音声を含むRTPパケットにパケット化されます。これらのパケットはUDP経由で受信者に送信され、バッファリングされ、必要に応じて並べ替えられ、スピーカーシステムを通じて再生するためにデコードされます。

## 主な利点

<strong>低遅延通信</strong>- RTPの設計は、保証された配信よりもタイムリーな配信を優先し、送信と受信の間の遅延を最小限に抑えたリアルタイムインタラクティブ通信を可能にします。

<strong>柔軟なペイロードサポート</strong>- このプロトコルは、ペイロードタイプメカニズムを通じてさまざまなメディアタイプとエンコーディング形式に対応し、基本的な音声コーデックから高度な映像圧縮規格まですべてをサポートします。

<strong>スケーラブルなアーキテクチャ</strong>- RTPセッションは複数の参加者とメディアストリームを同時にサポートでき、SSRC識別子により複雑なマルチメディア会議の効率的な管理が可能になります。

<strong>品質監視機能</strong>- RTCPフィードバックは、パケット損失、ジッター、遅延に関する詳細な統計を提供し、アプリケーションが変化するネットワーク状況を監視して適応できるようにします。

<strong>同期サポート</strong>- タイムスタンプメカニズムにより、複数のメディアストリームの正確な同期が可能になり、音声映像アプリケーションでの適切なリップシンクや関連コンテンツの協調再生が保証されます。

<strong>ネットワーク効率</strong>- プロトコルの軽量なヘッダー構造とUDPベースのトランスポートは、リアルタイムメディア配信に不可欠な機能を提供しながら、ネットワークオーバーヘッドを最小限に抑えます。

<strong>相互運用性標準</strong>- 広範な業界採用と標準化により、異なるベンダーの実装間の互換性と既存のネットワークインフラストラクチャとのシームレスな統合が保証されます。

<strong>セキュリティ統合</strong>- Secure RTP(SRTP)拡張は、リアルタイムパフォーマンス特性を維持しながら、機密通信を保護する暗号化と認証機能を提供します。

<strong>適応送信</strong>- アプリケーションは、RTCPフィードバックとネットワークパフォーマンス測定に基づいて、エンコーディングパラメータ、パケットサイズ、送信レートを動的に調整できます。

<strong>マルチキャストサポート</strong>- RTPはマルチキャスト送信シナリオを効率的にサポートし、複数の受信者へのメディアコンテンツのスケーラブルな配信を可能にします。

## 一般的な使用例

<strong>Voice over IP(VoIP)システム</strong>- RTPは、IP電話システムにおける音声通信の主要な転送メカニズムとして機能し、最小限の遅延でクリアな音声伝送を可能にします。

<strong>ビデオ会議プラットフォーム</strong>- 現代のビデオ会議ソリューションは、同期された音声と映像の配信にRTPを利用し、高品質なメディアストリームを使用した多者間会議をサポートします。

<strong>ライブストリーミングサービス</strong>- 放送プラットフォームは、ライブイベント、スポーツ放送、インタラクティブストリーミングコンテンツのグローバルな視聴者へのリアルタイム配信にRTPを使用します。

<strong>オンラインゲーム通信</strong>- マルチプレイヤーゲームは、音声チャット機能にRTPを実装し、ゲームプレイセッション中のプレイヤー間のリアルタイム通信を可能にします。

<strong>セキュリティおよび監視システム</strong>- IPベースのセキュリティカメラと監視システムは、中央監視ステーションと記録システムへのライブ映像フィードの送信にRTPを使用します。

<strong>遠隔医療アプリケーション</strong>- ヘルスケアプラットフォームは、リアルタイム相談サービスにRTPを活用し、患者と医療専門家間の高品質な音声および映像通信を可能にします。

<strong>遠隔学習プラットフォーム</strong>- 教育機関は、同期されたマルチメディアコンテンツを使用したライブ講義、インタラクティブ教室、遠隔学習体験にRTPベースのシステムを使用します。

<strong>産業制御システム</strong>- 製造およびプロセス制御アプリケーションは、分散産業環境でのリアルタイム監視および制御通信にRTPを採用します。

<strong>緊急通信ネットワーク</strong>- 公共安全および緊急対応システムは、重大インシデントおよび災害対応活動中の信頼性の高い音声および映像通信にRTPを利用します。

<strong>メディア制作ワークフロー</strong>- プロフェッショナル放送およびメディア制作施設は、制作機器と遠隔地間のリアルタイムコンテンツ配信にRTPを使用します。

## RTPと代替プロトコルの比較

| 機能 | RTP | HTTP Live Streaming | WebSocket | TCP Streaming | RTMP |
|---------|-----|-------------------|-----------|---------------|------|
| <strong>遅延</strong>| 非常に低い(50-200ms) | 高い(2-30秒) | 低い(100-500ms) | 中程度(500ms-2秒) | 低い(1-3秒) |
| <strong>信頼性</strong>| ベストエフォート | 高い | 高い | 高い | 中程度 |
| <strong>スケーラビリティ</strong>| 優秀 | 優秀 | 限定的 | 限定的 | 良好 |
| <strong>ファイアウォール通過</strong>| 困難 | 容易 | 容易 | 容易 | 中程度 |
| <strong>帯域幅効率</strong>| 高い | 中程度 | 中程度 | 低い | 高い |
| <strong>リアルタイムインタラクション</strong>| 優秀 | 不良 | 良好 | 普通 | 良好 |

## 課題と考慮事項

<strong>ネットワークアドレス変換(NAT)通過</strong>- RTPの動的ポート範囲の使用とピアツーピア通信パターンは、一般的なネットワーク展開においてNATデバイスとファイアウォールを通過する際に困難を生じさせる可能性があります。

<strong>パケット損失処理</strong>- プロトコルのベストエフォート配信モデルでは、ネットワーク輻輳時に許容可能なメディア品質を維持するために、アプリケーションが高度なエラー隠蔽と回復メカニズムを実装する必要があります。

<strong>ジッターバッファ管理</strong>- 遅延と品質のバランスを取るには、インタラクティブアプリケーションでの遅延を最小限に抑えながら、ネットワークタイミングのばらつきに対応するためのジッターバッファの慎重な調整が必要です。

<strong>セキュリティ脆弱性</strong>- 標準RTP送信は暗号化されておらず、盗聴の影響を受けやすいため、機密通信にはSRTPなどの追加のセキュリティ対策が必要です。

<strong>サービス品質依存性</strong>- RTPのパフォーマンスは、基盤となるネットワークQoS機能に大きく依存しており、すべてのネットワーク環境で利用可能または適切に構成されているとは限りません。

<strong>コーデック互換性の問題</strong>- 異なるRTP実装間の相互運用性を確保するには、ペイロードタイプ定義とコーデックパラメータネゴシエーションに細心の注意を払う必要があります。

<strong>帯域幅管理</strong>- リアルタイムメディアストリームは大量のネットワーク帯域幅を消費する可能性があり、制約のあるネットワーク環境では慎重な容量計画とトラフィック管理が必要です。

<strong>クロック同期要件</strong>- 正確なタイムスタンプの生成と処理には、分散システム全体で同期されたクロックが必要であり、大規模展開では困難な場合があります。

<strong>マルチキャストインフラストラクチャの制限</strong>- 多くのネットワークインフラストラクチャには適切なマルチキャストサポートがなく、RTPマルチキャスト送信機能のスケーラビリティの利点が制限されます。

<strong>デバッグとトラブルシューティングの複雑さ</strong>- RTPのリアルタイム性により、専門的な監視および分析ツールなしでパフォーマンスの問題を診断および解決することが困難になります。

## 実装のベストプラクティス

<strong>適応ジッターバッファリングの実装</strong>- ネットワーク状況とアプリケーション要件に基づいてバッファ深度を自動的に調整する動的ジッターバッファアルゴリズムを展開し、遅延と品質のトレードオフを最適化します。

<strong>RTCPフィードバックの効果的な使用</strong>- RTCPレポートを活用してプロアクティブな品質監視を行い、受信者フィードバックとネットワークパフォーマンスメトリクスに基づいて適応エンコーディング調整を実装します。

<strong>セキュリティのためのSRTPの展開</strong>- すべての機密通信にSecure RTP暗号化と認証を実装し、適切な鍵管理と安全な鍵交換メカニズムを確保します。

<strong>ペイロードパケット化の最適化</strong>- 損失回復機能に影響を与える可能性のある過度の断片化を避けながら、オーバーヘッドを最小限に抑えるために適切なパケットサイズとフレーム境界を選択します。

<strong>堅牢なエラー隠蔽の実装</strong>- ネットワーク中断時に過度の遅延を導入することなく、許容可能なメディア品質を維持する高度なパケット損失隠蔽アルゴリズムを展開します。

<strong>適切なQoSマーキングの構成</strong>- 適切なネットワーク優先順位付けとトラフィック処理を確保するために、RTPパケットに適切なDifferentiated Services Code Point(DSCP)値でマークします。

<strong>ネットワークパフォーマンスの継続的な監視</strong>- RTPセッション品質メトリクスを追跡し、パフォーマンス低下やサービスの問題に対するアラートを提供する包括的な監視システムを実装します。

<strong>NAT通過の計画</strong>- NAT通過の課題に対処し、多様なネットワークトポロジ全体で信頼性の高い接続を確保するために、STUN、TURN、またはICEプロトコルを展開します。

<strong>グレースフルデグラデーションの実装</strong>- ネットワーク状況が許容可能なしきい値を超えて悪化した場合に、メディア品質を自動的に低下させるか、代替コーデックに切り替えるようにアプリケーションを設計します。

<strong>ネットワーク状況全体でのテスト</strong>- 堅牢なパフォーマンスを確保するために、高遅延、パケット損失、帯域幅制約を含むさまざまなネットワーク状況下で徹底的なテストを実施します。

## 高度な技術

<strong>RTPヘッダー拡張</strong>- 標準RTP処理との互換性を損なうことなく、アプリケーション固有のメタデータ、タイミング情報、または品質指標を伝送するためのカスタムヘッダー拡張を実装します。

<strong>冗長エンコーディングスキーム</strong>- パケット損失に対する回復力を向上させるために、重要なメディアデータの複数のコピーを送信するRFC 2198冗長エンコーディング技術を展開します。

<strong>前方誤り訂正</strong>- 再送信を必要とせずに受信者が失われたパケットを再構築できるように、RTPストリームに冗長情報を追加するFECメカニズムを統合します。

<strong>マルチストリーム同期</strong>- 音声映像のリップシンクやマルチカメラ映像制作など、複数の関連RTPストリームを調整するための高度な同期アルゴリズムを実装します。

<strong>適応レート制御</strong>- リアルタイムネットワークフィードバックとアプリケーションパフォーマンス要件に基づいてエンコーディングパラメータを動的に調整する高度なレート制御アルゴリズムを展開します。

<strong>RTPミキサーとトランスレータの実装</strong>- 適切なCSRC帰属を維持しながら、複数のRTPストリームをミキシングしたり、異なるネットワーク環境間で変換したりできる中間システムを開発します。

## 今後の方向性

<strong>WebRTC統合の進化</strong>- WebRTC規格の継続的な開発により、ブラウザベースのリアルタイム通信と新興Webアプリケーション向けの新しいRTP拡張と最適化が推進されます。

<strong>5Gネットワーク最適化</strong>- RTP実装は、超低遅延モードや保証されたサービス品質のためのネットワークスライシングなど、5Gネットワーク機能を活用するように進化します。

<strong>人工知能による強化</strong>- AI駆動の適応アルゴリズムにより、インテリジェントなコーデック選択、予測的な品質調整、自動化されたネットワーク最適化を通じてRTPパフォーマンスが向上します。

<strong>強化されたセキュリティフレームワーク</strong>- 次世代セキュリティ拡張の開発により、より強力な暗号化、改善された鍵管理、新たなサイバー脅威に対する保護が提供されます。

<strong>クラウドネイティブアーキテクチャ</strong>- RTP実装は、コンテナ化されたアプリケーション、マイクロサービスアーキテクチャ、エッジコンピューティングシナリオをサポートし、クラウドネイティブ展開モデルに適応します。

<strong>没入型メディアサポート</strong>- プロトコル拡張は、専門的な処理と同期を必要とする360度映像、空間音声、拡張現実コンテンツストリームを含む新興メディアタイプに対応します。

## 参考文献

1. Schulzrinne, H., Casner, S., Frederick, R., & Jacobson, V. (2003). RTP: A Transport Protocol for Real-Time Applications. RFC 3550, Internet Engineering Task Force.

2. Perkins, C. (2003). RTP: Audio and Video for the Internet. Addison-Wesley Professional.

3. Baugher, M., McGrew, D., Naslund, M., Carrara, E., & Norrman, K. (2004). The Secure Real-time Transport Protocol (SRTP). RFC 3711, Internet Engineering Task Force.

4. Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., ... & Schooler, E. (2002). SIP: Session Initiation Protocol. RFC 3261, Internet Engineering Task Force.

5. Handley, M., Jacobson, V., & Perkins, C. (2006). SDP: Session Description Protocol. RFC 4566, Internet Engineering Task Force.

6. Rescorla, E., & Modadugu, N. (2012). Datagram Transport Layer Security Version 1.2. RFC 6347, Internet Engineering Task Force.

7. Alvestrand, H. (2021). WebRTC 1.0: Real-time Communication Between Browsers. W3C Recommendation, World Wide Web Consortium.

8. ITU-T Recommendation H.323 (2009). Packet-based multimedia communications systems. International Telecommunication Union.
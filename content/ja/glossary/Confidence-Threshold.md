---
title: 信頼度しきい値
translationKey: confidence-threshold
description: AIモデルが予測を正確として受け入れるために必要な最低スコアで、信頼性の基準として機能し、予測が使用されるか見直されるかを決定します。
keywords: ["信頼度しきい値", "AIモデル", "機械学習", "信頼度スコア", "予測信頼性", "チャットボット", "対話型AI", "会話AI", "AIエージェント", "自律型エージェント", "エージェント"]
category: AI Chatbot & Automation
type: glossary
date: 2025-12-02
draft: false
term: しんらいどしきいち
---
## 信頼度閾値とは何か？

**信頼度閾値**（confidence threshold）は、機械学習モデルの予測が下流のアクションに対して信頼できるものとして受け入れられるか、または破棄、フラグ付け、さらなる確認のためにエスカレーションされるかを制御する設定可能なカットオフ値です。AIモデルによって生成されるすべての予測には通常、**信頼度スコア**（confidence score）が付随します。これは予測に対するモデルの確信度を示す数値（一般的に0から1、または0%から100%の間）です。閾値はフィルターとして機能します：**信頼度スコアがこの閾値以上の予測のみが、行動するのに十分信頼できるとみなされます**。

例えば、不正検出において、モデルが取引に0.96の不正スコアを割り当て、閾値が0.95に設定されている場合、その取引はブロックされます。スコアが0.90の場合、その取引は手動レビュー用にフラグが付けられるだけかもしれません。

- [Microsoft Documentation: 信頼度スコア](https://learn.microsoft.com/en-us/azure/ai-services/language-service/question-answering/concepts/confidence-score)
- [Ultralytics: AI/MLにおける信頼度スコアの説明](https://www.ultralytics.com/glossary/confidence)
- [Zendesk: 高度なAIエージェントの信頼度閾値について](https://support.zendesk.com/hc/en-us/articles/8357749625498-About-confidence-thresholds-for-advanced-AI-agents)

---

## 信頼度スコアはどのように計算されるか？

信頼度スコアは機械学習モデルの出力層によって生成され、予測に関するモデルの確信度を表します。計算方法はモデルアーキテクチャと特定のタスクによって異なります：

- **ソフトマックス（多クラス分類）：** すべての可能なクラスにわたる確率分布を生成します。例えば、画像分類器は`[猫: 0.92, 犬: 0.06, ウサギ: 0.02]`を出力するかもしれません—モデルは画像に猫が含まれていることを92%確信しています。
- **シグモイド（二項分類）：** 入力が正のクラスに属する確率（0～1）を出力します。
- **ロジット：** モデルからの生の、正規化されていない出力で、通常は活性化関数（ソフトマックスやシグモイドなど）によって確率に変換されます。

技術的参考文献：
- [Ultralytics: 活性化関数](https://www.ultralytics.com/glossary/activation-function)
- [Wikipedia: シグモイド関数](https://en.wikipedia.org/wiki/Sigmoid_function)
- [Ultralytics: ソフトマックス関数](https://www.ultralytics.com/glossary/softmax)

---

## 信頼度スコアの種類

| 種類                        | 範囲/形式              | 長所                                        | 短所                                   |
|-----------------------------|------------------------|----------------------------------------------|----------------------------------------|
| 連続値（例：0～1、0～100%） | 小数またはパーセンテージ | 直感的、粒度が細かい、数学的に堅牢           | 最高スコア≠常に正しい                  |
| ロジット（生のスコア）      | -∞から+∞               | 高度なパイプラインで有用、細かい粒度         | 人間が読みやすくない                   |
| 離散値（低/中/高）          | カテゴリカル           | ビジネスルールに簡単、説明しやすい           | 粒度が欠けている、数学的に正確でない   |

**技術的注意：**  
連続値とロジットスコアはシグモイドまたはソフトマックス関数を使用して変換できますが、浮動小数点の制限により精度が影響を受ける場合があります（[Mindee](https://www.mindee.com/blog/how-use-confidence-scores-ml-models)）。

---

## なぜ信頼度閾値が重要なのか？

### ビジネスと安全性への影響

- **リスク管理：** 銀行業務、医療、自律走行車などでは、誤った予測のコストが深刻になる可能性があります—不正取引の承認、患者の誤診断、障害物の認識失敗などです。
- **運用効率：** 高い閾値設定を持つEコマースのレコメンデーションシステムは、高い信頼度の商品のみを表示することでコンバージョンを増加させますが、低い信頼度のレコメンデーションはユーザーを苛立たせる可能性があります。
- **自動化vs人間のレビュー：** 閾値は、自動化するタイミングと、さらなる意思決定のために人間のオペレーターにエスカレーションするタイミングを決定します（[Zendesk](https://support.zendesk.com/hc/en-us/articles/8357749625498-About-confidence-thresholds-for-advanced-AI-agents)）。

**アナロジー：** モデルの高い信頼度スコアは、人間が決断を下す前に確信を表明するのと同様に、行動を起こす準備ができていることを示します。閾値は、行動を起こす前に必要な確信の基準です。

---

## 信頼度、正確度、精度、再現率の区別

| 指標       | 測定するもの                                    | 使用例                 | 計算式                           |
|------------|-----------------------------------------------------|-----------------------|----------------------------------|
| 信頼度     | *この*予測についての確信度                   | 「これは猫です：92%」  | インスタンスごとのモデル出力     |
| 正確度     | すべての予測にわたる全体的な正確さ          | 「モデルはテストセットで90%正確」 | (TP + TN) / (TP + TN + FP + FN) |
| 精度       | 正と予測されたもののうち実際に正しい割合 | 誤警報を最小化する     | TP / (TP + FP)                  |
| 再現率     | 実際の正のうち正しく識別された割合          | イベントの見逃しを避ける | TP / (TP + FN)                  |

- **TP:** 真陽性  
- **FP:** 偽陽性  
- **TN:** 真陰性  
- **FN:** 偽陰性

**ポイント：**  
閾値を上げると精度が向上し（偽陽性が減少）、再現率が低下する可能性があります（より多くの陽性を見逃す）。閾値を下げると逆の効果があります。

- [Ultralytics: AI/MLにおける信頼度スコアの説明](https://www.ultralytics.com/glossary/confidence)
- [Leverege: コンピュータビジョンの基礎](https://www.leverege.com/blogpost/computer-vision-basics-how-confidence-accuracy-and-thresholds-impact-performance)

---

## 信頼度閾値の設定とチューニング方法

### ステップバイステップのプロセス

1. **データ分布の分析**
   - モデルの信頼度スコアを視覚化する（例：出力のヒストグラム）。
   - 自然なカットオフやクラスターを識別する。

2. **初期閾値の設定**
   - 標準から始める（例：二項分類では0.5）。
   - 高リスクドメインでは、より高く始める（例：0.9）。

3. **テストと反復**
   - さまざまな閾値での精度と再現率を評価する。
   - トレードオフを視覚化するために*精度-再現率（PR）曲線*を使用する。
   - ビジネスニーズ、リスク許容度、または規制要件に基づいて調整する。

4. **監視と適応**
   - モデルのパフォーマンスを継続的に監視する。
   - データやビジネス目標が変化するにつれて閾値を調整する。

**Microsoft Learn**は、精度（より高い精度、より低いカバレッジのために閾値を上げる）とカバレッジ（より多くの回答をするために閾値を下げるが、より多くの偽陽性のリスクがある）のバランスに基づいて閾値を選択することを推奨しています：  
[Microsoft: スコア閾値の選択](https://learn.microsoft.com/en-us/azure/ai-services/language-service/question-answering/concepts/confidence-score)

### 閾値効果の視覚化：精度-再現率曲線

**PR曲線**は複数の閾値での精度と再現率をプロットします。優先順位のバランスを取る閾値を選ぶのに役立ちます。

![PR曲線](https://cdn.prod.website-files.com/67ea47febc0b1c768efbabd5/67f88fa1d3c87b539c680055_673da21d7542acff24318de9_673da16c4a6bfb21cdade3f8_curve-precision-recall.png)
*出典: [Mindee](https://www.mindee.com/blog/how-use-confidence-scores-ml-models)*

---

### コード例：Pythonでの信頼度閾値の適用

#### コンピュータビジョン（Ultralytics YOLO）

```python
from ultralytics import YOLO

model = YOLO("yolo11n.pt")
# 信頼度が0.6以上の検出のみを保持
results = model.predict("bus.jpg", conf=0.6)
print(f"Detected {len(results[0].boxes)} objects with high confidence.")
```
*出典: [Ultralytics](https://www.ultralytics.com/glossary/confidence)*

#### 一般的な二項分類

```python
import numpy as np

def apply_confidence_threshold(predictions, threshold=0.7):
    return [1 if p >= threshold else 0 for p in predictions]

predictions = [0.82, 0.67, 0.91, 0.48]
labels = apply_confidence_threshold(predictions, threshold=0.8)
# 出力: [1, 0, 1, 0]
```

---

## 実世界のアプリケーションと例

### コンピュータビジョン

#### 製造欠陥検出
- **シナリオ：** 視覚検査モデルが0.82の信頼度で欠陥を予測。
- **閾値：** 0.80に設定されている場合、製品は手動検査に送られる；0.80未満の場合は合格。
- **トレードオフ：** 閾値が高いほど誤警報は少なくなるが、実際の欠陥を見逃すリスクがある。

#### 安全のための物体検出
- **自律走行車：** 高い信頼度で検出された障害物のみがブレーキを作動させる。低信頼度の検出は他のセンサーでクロスバリデーションされる場合がある。

*参考: [Ultralytics](https://www.ultralytics.com/glossary/confidence)*

### チャットボットとAIエージェント

#### 意図マッチング（Zendesk）
- **シナリオ：** チャットボットがユーザーの意図を信頼度レベルで予測。
- **閾値：** デフォルトは60%（0.6）；ほとんどのユーザーは50～70%を好む。
- **結果：** 閾値以上の場合、チャットボットが返信；未満の場合、デフォルト応答またはエスカレーション。

*参考: [Zendesk](https://support.zendesk.com/hc/en-us/articles/8357749625498-About-confidence-thresholds-for-advanced-AI-agents)*

### 文書処理

#### 光学文字認識（OCR）
- **シナリオ：** AIが信頼度スコア付きで請求書の日付を抽出。
- **閾値：** 信頼度が0.85を超える日付のみが自動入力され、それ以外はレビュー用にフラグ付け。

### 医療診断

- **シナリオ：** AIがX線異常を信頼度スコア付きでフラグ付け。
- **閾値：** 高信頼度の所見は緊急レビューのために優先され、低信頼度はセカンドルック用にフラグ付け。

### 金融サービス

#### 不正検出
- **シナリオ：** モデルが取引を0.94の確率で不正と評価。
- **閾値：** 銀行が閾値を0.95に設定—取引は許可されるがフラグ付け。0.97の場合、取引をブロックし顧客に警告。

---

## 閾値設定：トレードオフ

| 閾値レベル        | 精度              | 再現率               | ユースケース例                           |
|----------------------|--------------------|----------------------|------------------------------------------|
| 低（<0.5）           | 低                | 高                 | すべての可能性のある欠陥を捕捉（製
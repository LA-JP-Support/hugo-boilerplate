---
title: 対話状態追跡
translationKey: dialogue-state-tracking
description: 対話状態追跡(DST)は、対話システムにおいてユーザーの目標、スロット値、会話履歴を推定し、一貫性のある適切なAI応答を可能にします。
keywords:
- 対話状態追跡
- 会話型AI
- チャットボット
- 対話システム
- スロットフィリング
category: AI Chatbot & Automation
type: glossary
date: '2025-12-19'
lastmod: '2025-12-19'
draft: false
e-title: Dialogue State Tracking
term: たいわじょうたいついせき
url: "/ja/glossary/dialogue-state-tracking/"
aliases:
- "/ja/glossary/Dialogue-State-Tracking/"
---
## 対話状態追跡とは?
対話状態追跡(Dialogue State Tracking、DST)は、タスク指向の会話型AIシステムの基盤となる技術です。複数ターンにわたる会話を通じて重要な詳細情報を体系的に追跡し、ユーザーの目標と意図、スロット値(ユーザーが表現した特定の情報)、対話履歴とコンテキストの構造化された機械可読な表現を維持します。

各ターンにおいて、DSTはユーザーの現在の目的とそれを達成するために必要なすべての関連パラメータを推定します。これにより、システムは次に何をすべきか、何を言うべきかについて情報に基づいた意思決定を行うことができ、会話の一貫性と関連性を確保します。DSTは、ユーザー入力の解釈(自然言語理解技術を通じて)と対話管理(システム応答の意思決定)の間の仲介役として機能します。

## 対話状態追跡の使用方法

DSTは、会話コンテキストの維持(前のターンの記憶を保持することで連続性を確保)、対話ポリシーの誘導(チャットボットに適切な次のアクションを通知)、曖昧さの解決(複数ターンにわたる参照の処理とユーザーリクエストの明確化)、応答のパーソナライズ(ユーザーの好みに合わせたシステム動作の適応)、複数ターン推論の実現(複数の対話ターンにまたがる複雑なクエリと依存関係の追跡)に使用されます。

**適用領域:**
- 仮想アシスタント(Alexa、Siri、Google Assistant)
- カスタマーサポートチャットボット(自動ヘルプデスク、ライブチャット)
- 自動予約システム(レストラン、ホテル、フライト、タクシー)
- 会話型コマース(ショッピングアシスタント)
- ヘルスケアエージェント(患者情報収集、トリアージ)
- 技術トラブルシューティング(段階的なガイダンス)

## 主要な概念と用語

| 用語 | 定義 |
|------|------------|
| **スロット** | 特定の情報を表す変数(例:「場所」、「時間」、「料理」) |
| **スロット値** | ユーザーが提供した、またはシステムが推測したスロットの値(例:「場所」に対する「ニューヨーク」) |
| **スロット-値ペア** | スロットとその現在の値のキー-値レコード(例:{"time": "7 PM"}) |
| **対話状態** | 各ターンで追跡されるすべてのスロット-値ペアとその他のコンテキスト情報の現在のセット |
| **信念状態** | 可能な対話状態に対する確率分布。確率的DSTで使用される |
| **オントロジー** | ドメインのすべての可能なスロットとその許容値を定義するスキーマ |
| **通知可能スロット** | ユーザーが制約として指定できるスロット(例:「エリア = 北部」) |
| **要求可能スロット** | ユーザーが情報を要求できるスロット(例:「住所は何ですか?」) |
| **ターン** | ユーザー発話とシステム応答のペア |
| **対話ポリシー** | 現在の対話状態に基づいて次のシステムアクションを選択する意思決定ロジック |

## 対話状態追跡のアプローチ

### ルールベースDST

**動作原理:** 手作業で作成されたルールまたはパターンがユーザー入力に応じて対話状態を更新します。  
**長所:** シンプル、解釈可能、データ不要。  
**短所:** 言語の多様性やスケールに対して堅牢ではない、未知のシナリオに脆弱、集中的な手動エンジニアリングが必要。

### 確率的DST

**動作原理:** 可能な対話状態に対する確率分布(信念状態)を維持します。ベイジアンネットワークやMDPなどの統計モデルを使用して更新を実行します。  
**長所:** 不確実性や入力エラー(例:音声認識からの)に対して堅牢、曖昧な言語を処理可能。  
**短所:** 計算集約的、特徴エンジニアリングが必要、パラメータ推定のための十分なデータが必要。

### 機械学習/深層学習DST

**動作原理:** RNN、LSTM/GRU、Transformer(BERT、GPT)、条件付き確率場(CRF)などのモデルを使用して、会話データから直接対話状態を更新することを学習します。  
**長所:** 複雑な対話パターンを捉える、ドメイン間で汎化、大規模アプリケーションをサポート。  
**短所:** 大規模な注釈付きデータセットが必要、ルールベースシステムより解釈性が低い。

**技術例:**
- 逐次対話モデリングのためのRNN/LSTM/GRU
- 会話コンテキストをエンコードするためのTransformer(BERT/GPT)
- 関連する履歴に焦点を当てるためのアテンションメカニズム
- 対話から直接スロット値を抽出するためのポインターネットワーク

### ハイブリッド手法

**動作原理:** ルールベースと機械学習アプローチを組み合わせます。ルールは頻繁/単純なケースを処理し、MLは稀/複雑なシナリオを処理します。  
**長所:** ルールの解釈可能性とMLの堅牢性を活用。  
**短所:** 統合の複雑さ。

## 対話状態表現形式

### スロット-値ペア

**最も一般的な形式。** 各スロット(キー)がその現在の値を保持します:
```json
{
  "cuisine": "Italian",
  "location": "New York",
  "time": "7 PM"
}
```

容易に解釈可能で、データベース/APIインターフェースに使用されます。

### 特徴ベクトル

スロット値と対話特徴をエンコードする固定長の数値ベクトル。ML/DLモデル、特にニューラルネットとの統合に有用です。

### グラフベース構造

ノードはエンティティ、スロット、またはユーザー意図を表し、エッジは関係と依存関係を捉えます。複雑なマルチドメイン会話の推論を促進し、知識グラフとインターフェースできます。

## 対話状態更新メカニズム

### ルールベース更新

事前定義されたルールがパターンマッチング、正規表現、またはテンプレート手法を使用してユーザー発話を状態変化にマッピングします。単純または明確に定義されたタスクに対して高速で信頼性があります。

### 確率的更新

ベイズ推論が入力ソース(例:音声認識エラー)からの不確実性を考慮して信念状態を更新します。初期の音声対話システムで一般的で、ノイズに対して堅牢です。

### ニューラル/MLベース更新

シーケンスモデル(RNN、Transformer)が対話履歴と現在の入力を処理して新しいスロット値を予測します。アテンションメカニズムが関連するコンテキストに焦点を当て、ジョイントモデリングがすべてのスロットを同時または個別に処理します。

### スロット充填

固有表現認識(NER)とシーケンスラベリング(例:CRFを使用)がユーザー入力からスロット値を抽出します。ジョイントモデルが各ターンですべての関連スロットを予測し、マルチドメインおよび動的シナリオをサポートします。

### 思考連鎖推論

複数の対話ターンにわたる段階的推論によりスロット値を推測し、複雑な複数ターン対話をサポートします。複雑なシナリオでDSTパフォーマンスを向上させることが実証されています。

## 評価、メトリクス、ベンチマーク

### 標準データセット

**WOZ(Wizard of Oz):** レストラン予約における人間-人間対話  
**MultiWOZ:** 大規模、マルチドメイン、注釈付き対話データセット(10,000以上の対話)  
**DSTC(Dialogue State Tracking Challenge):** DSTシステムのための一連のベンチマークタスクとデータセット

### 一般的なメトリクス

| メトリクス | 説明 |
|--------|-------------|
| **ジョイントゴール精度** | すべてのスロットが正しく予測された対話ターンの割合(厳格な指標) |
| **スロット精度** | 個々のスロット-値予測の正確性 |
| **スロットF1スコア** | スロット予測の適合率と再現率の調和平均。クラス不均衡を処理 |
| **パープレキシティ** | 言語モデリングを評価し、モデルがコンテキスト内で次のトークンをどれだけ予測できるかを測定 |
| **人間評価** | システムパフォーマンスの主観的評価(一貫性、有用性、自然さ) |

## 例とユースケース

### 例:レストラン予約対話状態

**ターン1**  
ユーザー:「イタリアンレストランを探しています。」  
**状態:** `{ "cuisine": "Italian" }`

**ターン2**  
ユーザー:「ニューヨークで。」  
**状態:** `{ "cuisine": "Italian", "location": "New York" }`

**ターン3**  
ユーザー:「午後7時で。」  
**状態:** `{ "cuisine": "Italian", "location": "New York", "time": "7 PM" }`

**ターン4**  
ユーザー:「時間を午後8時に変更してください。」  
**状態:** `{ "cuisine": "Italian", "location": "New York", "time": "8 PM" }`

### 例:マルチドメイン対話

**ターン5の状態:**
```json
{
  "hotel-name": "York Hotel",
  "hotel-stars": "5",
  "taxi-destination": "York Hotel",
  "taxi-departure": "Cambridge Station"
}
```

### ユースケース

**予約システム:** フライト、ホテル、レストラン、タクシー  
**カスタマーサポート:** 問題追跡、ユーザー好みの保持  
**パーソナルアシスタント:** リマインダー、セッション間のコンテキスト  
**ヘルスケア:** 複数ターンの症状収集  
**Eコマース:** ショッピングカート、好み、注文詳細の管理

## 課題と最近の研究動向

### 主要な課題

**曖昧さと参照解決:** 曖昧なユーザー入力と照応(例:「そこに予約」)の処理。  
**データ不足:** 高品質な対話データの収集と注釈付けの困難さ。  
**マルチドメインと長距離依存関係:** ドメイン間および多数のターンにわたるコンテキストの追跡。  
**語彙外スロット値:** 自由形式または以前に見たことのない値。  
**汎化:** 最小限の再トレーニングで新しいドメインやスロットスキーマへの適応。

### 最近の動向

**TransformerベースDST:** Transformerモデル(BERT、GPT)が長距離会話コンテキストをエンコードし、転移学習をサポート。

**アテンションとマルチアテンションメカニズム:** スロット推論のために対話の関連部分に焦点を当てます。クロスドメイン処理とスロット-値解決を改善。

**思考連鎖(CoT)推論:** 対話ターンにわたる複数ステップの推論を使用してスロット推論を改善。

**ゼロショットおよび少数ショット汎化:** 最小限のデータで新しいドメインへのDST適応のためのスキーマガイドおよびプロンプトベースモデル。

**データ拡張:** DST堅牢性を強化するための合成データ生成、言い換え、シミュレーション。

**ジョイントモデリングとエンドツーエンドシステム:** スロット、意図、アクションの同時予測。エラー伝播を削減。

## 参考文献

- [AAAI 2020: MA-DST](https://ojs.aaai.org/index.php/AAAI/article/download/6322/6178)
- [arXiv: Chain of Thought for DST](https://arxiv.org/html/2403.04656v1)
- [Google Research: DSTC](https://static.googleusercontent.com/media/research.google.com/en//pubs/archive/44018.pdf)
- [Kaggle: Deepfake Detection Challenge](https://www.kaggle.com/c/deepfake-detection-challenge/overview)

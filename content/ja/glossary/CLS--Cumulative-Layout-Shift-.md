---
title: CLS(累積レイアウトシフト)
date: 2025-12-19
translationKey: CLS--Cumulative-Layout-Shift-
description: ウェブページの読み込み中に要素が予期せず移動する度合いを測定するGoogleの指標で、ユーザー体験や誤クリックに影響を与えます。
keywords:
- 累積レイアウトシフト
- コアウェブバイタル
- ウェブパフォーマンス
- 視覚的安定性
- ユーザー体験
category: Application & Use-Cases
type: glossary
draft: false
e-title: CLS (Cumulative Layout Shift)
url: /ja/glossary/CLS--Cumulative-Layout-Shift-/
term: シーエルエス(るいせきレイアウトシフト)
---

## CLS(累積レイアウトシフト)とは?
累積レイアウトシフト(CLS)は、ウェブページの読み込みプロセス中における視覚的安定性を測定する重要なウェブパフォーマンス指標です。2020年にGoogleがCore Web Vitalsの一つとして導入したCLSは、ページ読み込みライフサイクル中に表示コンテンツが予期せず移動する量を定量化します。この指標は、ユーザーがページ要素と対話しようとしている際に要素が移動してしまい、誤クリック、読書の中断、または全般的な混乱を引き起こすという、よくあるユーザー体験上の不満に対処します。CLSスコアは、ページ訪問の全期間中に発生するすべての予期しないレイアウトシフトの個別スコアの合計を表します。

測定は、レイアウトシフトの影響範囲と移動距離に焦点を当てています。影響範囲は、不安定性によってビューポート領域のどれだけが影響を受けるかを測定し、移動距離は不安定な要素がビューポートに対してどれだけ移動したかを定量化します。CLSは、各レイアウトシフトについてこれら二つの値を乗算し、すべての個別スコアを合計することで計算されます。レイアウトシフトは、予期せず発生した場合にのみCLSにカウントされます。ユーザーの操作(ボタンのクリックなど)に直接応答して発生するシフトは計算から除外されます。この区別により、CLSは期待されるインターフェース変更ではなく、真の使いやすさの問題を測定することが保証されます。

Googleは、0.1未満のCLSスコアを「良好」、0.1から0.25の間を「改善が必要」、0.25を超えるスコアを「不良」と見なしています。これらの閾値は、ユーザー体験への実際の影響を反映しており、スコアが高いほど視覚的不安定性がより破壊的であることを示します。この指標は、GoogleがCore Web Vitalsをランキングアルゴリズムに組み込んで以来、検索エンジン最適化(SEO)においてますます重要になっています。CLSスコアが不良なウェブサイトは検索可視性が低下する可能性があるため、この指標はユーザー体験とビジネスパフォーマンスの両方にとって極めて重要です。CLSを理解し最適化するには、画像読み込み、フォントレンダリング、動的コンテンツ挿入、サードパーティ統合など、さまざまな要因を考慮した包括的なアプローチが必要です。

## レイアウトシフトの主要構成要素

**影響範囲**- 影響範囲は、2つのレンダリングされたフレーム間でレイアウトシフトによって影響を受けるビューポート領域の割合を測定します。この構成要素は、不安定な要素の以前の位置と現在の位置の両方を考慮し、視覚的変化を経験する総面積をビューポートサイズの比率として計算します。**移動距離**- 移動距離は、不安定な要素がビューポートの寸法に対してどれだけ移動したかを定量化します。不安定な要素が水平または垂直に移動した最大距離を、ビューポートの最大寸法(幅または高さ)で割った値を測定します。**レイアウトシフトスコア**- 個別のレイアウトシフトスコアは、影響範囲と移動距離を乗算することで計算されます。この式により、影響を受けた領域の範囲と移動の大きさの両方が、全体的な不安定性測定に寄与することが保証されます。**セッションウィンドウ**- CLSは、急速に連続して発生するレイアウトシフトをグループ化するためにセッションウィンドウを使用します。セッションウィンドウは最初のレイアウトシフトから始まり、シフトのない1秒以上のギャップがあるまで、またはウィンドウが最大5秒の期間に達するまで続きます。**予期しないシフト**- 直接的なユーザー操作なしに発生するレイアウトシフトのみがCLSにカウントされます。クリック、タップ、キー押下などのユーザーアクションによってトリガーされるシフトは、ユーザーが自分の操作に応じたインターフェース変更を期待するため除外されます。**ビューポートの考慮事項**- CLS計算はビューポートサイズに対して相対的であり、異なる画面サイズやデバイスタイプ間で指標が一貫性を保つことを保証します。このアプローチにより、デスクトップとモバイル体験の間でCLSスコアが比較可能になります。

## CLS(累積レイアウトシフト)の仕組み

CLS測定プロセスは、ユーザーがウェブページに移動したときに始まり、訪問全体を通じて継続します。ブラウザは継続的にページの視覚的変化を監視し、連続するレンダリングフレームを比較して要素が予期せず移動したタイミングを検出します。詳細なワークフローは以下の通りです:

1. **初期ページ読み込み**- ブラウザはページのレンダリングを開始し、ビューポート領域内のすべての可視要素のベースライン位置を確立します。

2. **フレーム比較**- ブラウザは各新しいレンダリングフレームを前のフレームと比較し、ユーザー操作なしに位置が変更された要素を識別します。

3. **シフト検出**- 要素がフレーム間で移動すると、ブラウザは位置変更によってビューポートの何パーセントが影響を受けるかを判断して影響範囲を計算します。

4. **距離計算**- ブラウザは不安定な要素がどれだけ移動したかを測定し、ビューポート寸法に対する移動距離を計算します。

5. **スコア計算**- 検出された各シフトについて、影響範囲と移動距離を乗算して個別のレイアウトシフトスコアを計算します。

6. **セッションウィンドウのグループ化**- レイアウトシフトはセッションウィンドウにグループ化され、各ウィンドウは最初のシフトから始まり、1秒のギャップまたは5秒の最大期間まで続きます。

7. **CLSの集計**- 最終的なCLSスコアは、最も高い合計スコアを持つセッションウィンドウからのレイアウトシフトスコアの合計を表します。

8. **継続的な監視**- 測定はユーザーのセッション全体を通じて継続し、新しいレイアウトシフトが発生するとCLSスコアを更新します。**ワークフローの例**: ニュースウェブサイトが見出しと記事テキストとともに読み込まれます。広告が遅れて読み込まれ、記事コンテンツを200ピクセル下に押し下げます。これがビューポートの50%に影響し、要素をビューポート高さの25%移動させた場合、レイアウトシフトスコアは0.5 × 0.25 = 0.125となり、全体のCLSスコアに寄与します。

## 主な利点

**ユーザー体験の向上**- CLSを最適化することで、より安定で予測可能なインターフェースが作成され、ユーザーの不満が軽減され、ウェブサイトとの対話における全体的な満足度が向上します。**検索ランキングの改善**- GoogleがCore Web Vitalsをアルゴリズムのランキング要因として含めているため、より良いCLSスコアは検索エンジンランキングの向上に貢献します。**直帰率の削減**- 安定したレイアウトは誤クリックや読書の中断を防ぎ、ユーザーがより長く滞在し、コンテンツとより深く関わることを促進します。**コンバージョン率の向上**- 安定したインターフェースは、重要なユーザーアクション中の予期しない要素移動を防ぐことで、フォーム完了率を改善し、取引の放棄を減らします。**モバイル体験の改善**- CLS最適化は、画面サイズが小さくタッチ操作によりレイアウトシフトの影響を受けやすいモバイルユーザーに特に利益をもたらします。**アクセシビリティの向上**- 安定したレイアウトは、運動障害のあるユーザーや予測可能な要素配置に依存する支援技術を使用するユーザーのアクセシビリティを改善します。**ブランド信頼の構築**- 一貫性のある安定したインターフェースは、プロフェッショナリズムと信頼性を伝え、ブランドとウェブサイトに対するユーザーの信頼を強化します。**パフォーマンスインサイト**- CLS監視は、読み込みパフォーマンスに関する貴重な洞察を提供し、ウェブ開発スタック全体にわたる最適化の機会を特定するのに役立ちます。**競争優位性**- 優れたCLSスコアは、特にユーザー体験が重要な差別化要因である業界において、ウェブサイトを競合他社から差別化できます。**開発効率**- CLSに焦点を当てることで、デプロイ後に修正するのではなく、レイアウトの問題を防ぐより良い開発慣行が促進されます。

## 一般的な使用例

**Eコマース最適化**- オンライン小売業者は、ユーザーが誤って間違った製品をクリックしたり、チェックアウトプロセス中にショッピングカートを放棄したりする原因となるレイアウトシフトを防ぐためにCLSを監視します。**ニュースとメディアサイト**- 出版社は、遅延読み込みされる広告、画像、または動的コンテンツ挿入によって読書体験が中断されないようにCLSを最適化します。**ランディングページのパフォーマンス**- マーケティングチームは、レイアウトの安定性がフォーム送信やコールトゥアクションの効果に直接影響するランディングページのコンバージョン率を改善するためにCLS最適化を使用します。**モバイルアプリ開発**- 開発者は、異なるデバイス間でタッチ操作が正確で予測可能であることを保証するために、ウェブベースのモバイルアプリケーションにCLSの原則を適用します。**コンテンツ管理システム**- CMSプラットフォームは、コンテンツ作成者が自分の公開決定が視覚的安定性とユーザー体験にどのように影響するかを理解できるようにCLS監視を統合します。**サードパーティ統合**- 複数のサードパーティサービスを持つウェブサイトは、どの外部スクリプトやウィジェットがレイアウトの不安定性を引き起こすかを特定するためにCLS監視を使用します。**プログレッシブウェブアプリ**- PWA開発者は、ネイティブアプリケーションの期待に合致する安定したインターフェースを持つアプリのような体験を保証するためにCLSを最適化します。**教育プラットフォーム**- オンライン学習プラットフォームは、ビデオ再生、クイズの対話、またはコースナビゲーションを妨げるレイアウトシフトを防ぐためにCLSを監視します。**金融サービス**- 銀行や金融ウェブサイトは、機密性の高い取引やアカウント管理タスク中の信頼を維持し、エラーを防ぐためにCLS最適化を優先します。**ソーシャルメディアプラットフォーム**- ソーシャルネットワークは、レイアウトの安定性がコンテンツ消費とユーザーエンゲージメントパターンに影響するフィード体験のためにCLSを最適化します。

## CLSスコア比較表

| スコア範囲 | 分類 | ユーザーへの影響 | SEOへの影響 | 推奨アクション |
|-------------|---------------|-------------|------------|-------------------|
| 0.0 - 0.1 | 良好 | 最小限の中断、スムーズな体験 | ポジティブなランキングシグナル | 現在のパフォーマンスを維持 |
| 0.1 - 0.25 | 改善が必要 | 目立つシフト、若干の不満 | 中立からやや否定的 | 主要なシフト源を特定して修正 |
| 0.25 - 0.5 | 不良 | 重大な中断、ユーザーの混乱 | 否定的なランキング影響 | 即座の最適化が必要 |
| 0.5 - 1.0 | 非常に不良 | 深刻な使いやすさの問題 | 強い否定的シグナル | レイアウト安定性の完全な見直し |
| 1.0+ | 危機的 | 使用不可能なインターフェース、高い直帰リスク | 深刻なランキングペナルティ | 緊急修正が必要 |

## 課題と考慮事項

**動的コンテンツ読み込み**- 頻繁に更新されるコンテンツを持つウェブサイトは、ユーザーに新鮮で関連性の高い情報を提供しながら安定したレイアウトを維持するという継続的な課題に直面します。**サードパーティの依存関係**- 外部スクリプト、広告、ウィジェットは予測不可能に読み込まれることが多く、すべてのページ要素にわたってレイアウトの安定性を制御することが困難になります。**レスポンシブデザインの複雑性**- 複数のデバイスサイズと向きにわたって安定したレイアウトを作成するには、さまざまなビューポート構成にわたる慎重な計画と広範なテストが必要です。**パフォーマンスのトレードオフ**- CLSの最適化は他のパフォーマンス指標と競合することがあり、視覚的安定性と読み込み速度の間の慎重なバランスが必要です。**測定精度**- CLSスコアは異なる測定ツールと実世界の条件の間で大きく異なる可能性があり、一貫した最適化目標を確立することが困難になります。**レガシーコードの統合**- 古いウェブサイトは良好なCLSスコアを達成するために重要なアーキテクチャ変更が必要な場合があり、リソース配分と技術的負債の課題を提示します。**ユーザー操作の複雑性**- 動的なユーザーインターフェースを持つ高度にインタラクティブなアプリケーションでは、期待されるレイアウトシフトと予期しないレイアウトシフトを区別することが複雑になります。**クロスブラウザの一貫性**- 異なるブラウザはCLSスコアを異なる方法で計算する可能性があり、複数のブラウザ環境にわたるテストと最適化が必要です。**実ユーザー監視**- ラボテストは、ネットワーク条件、デバイス機能、ユーザー行動の変動により、実世界のCLSパフォーマンスを正確に反映しない場合があります。**継続的な最適化**- CLS最適化は、ウェブサイトが進化し、コンテンツが変化し、新機能が追加されるにつれて、継続的な監視と調整が必要です。

## 実装のベストプラクティス

**画像用のスペース確保**- 画像が読み込まれるときのレイアウトシフトを防ぐために、常に画像の幅と高さの属性を指定するか、CSSアスペクト比を使用します。**ウェブフォント読み込みの最適化**- フォント読み込み中のテキストレイアウトシフトを最小限に抑えるために、`font-display: swap`または`font-display: optional`を使用してフォントレンダリング動作を制御します。**重要なリソースのプリロード**- 安定した初期レンダリングを保証するために、ファーストビューの画像、フォント、その他の重要なアセットのリソースプリロードを実装します。**広告スロットのサイズ設定**- 広告が非同期に読み込まれるときのコンテンツシフトを防ぐために、広告配置用の特定の寸法を確保します。**動的コンテンツ挿入の回避**- 既存の要素の上にコンテンツを追加することを最小限に抑え、代わりに新しいコンテンツを下に追加するか、プレースホルダースペースを使用します。**スケルトンスクリーンの実装**- レイアウトの安定性を維持するために、読み込み中は最終コンテンツと同様の寸法のプレースホルダーコンテンツを使用します。**デバイス間でのテスト**- 潜在的な問題を特定するために、さまざまなデバイス、画面サイズ、ネットワーク条件でCLSパフォーマンスを定期的にテストします。**サードパーティスクリプトの監視**- レイアウトシフトを引き起こす可能性のあるサードパーティ統合を監査および制御し、必要に応じてフォールバックを実装します。**CSS封じ込めの使用**- 特定のページセクション内でレイアウト変更を分離し、カスケードシフトを防ぐためにCSS `contain`プロパティを適用します。**アニメーションタイミングの最適化**- 予期しない動きを防ぐために、ユーザーが影響を受ける要素と対話できるようになる前にCSSアニメーションとトランジションが完了することを保証します。

## 高度なテクニック

**レイアウトシフトの帰属**- ターゲットを絞った最適化努力とパフォーマンスデバッグを可能にするために、レイアウトシフトを引き起こす特定のDOM要素を識別する詳細な追跡を実装します。**Intersection Observer API**- 要素の可視性変化を追跡し、ユーザー体験に影響を与える前に潜在的なレイアウトシフトを予測するために、高度な監視技術を使用します。**クリティカルレンダリングパスの最適化**- クリティカルレンダリングパス中のレイアウト再計算を最小限に抑えるために、リソースの読み込みとレンダリングのシーケンスを最適化します。**コンポジットレイヤー管理**- レイアウト変更を分離し、シフトが他のページ要素に影響を与えることを防ぐために、ブラウザのコンポジットレイヤーを活用します。**予測的読み込み戦略**- ユーザー行動を予測し、レイアウトの中断を最小限に抑える方法でコンテンツをプリロードするために、機械学習アプローチを実装します。**高度なCSS Gridテクニック**- コンテンツ変更に優雅に適応する本質的に安定したレイアウトを作成するために、洗練されたCSS GridとFlexbox構成を使用します。

## 今後の方向性

**測定精度の向上**- 将来のCLS実装には、問題のあるレイアウト変更と許容可能なレイアウト変更をより適切に区別する、より洗練されたアルゴリズムが含まれる可能性があります。**AI駆動の最適化**- ユーザー行動パターンに基づいてCLS最適化の機会を自動的に識別し、提案する機械学習ツールが登場する可能性があります。**フレームワーク統合**- ウェブ開発フレームワークには、組み込みのCLS最適化機能と自動化されたレイアウト安定性テスト機能がますます含まれるようになります。**リアルタイム監視の進化**- 高度な監視ツールは、異なるユーザーセグメントと条件にわたるレイアウト安定性に関する、より詳細なリアルタイムの洞察を提供します。**ブラウザAPIの強化**- 新しいブラウザAPIにより、開発者はレイアウトの安定性をより適切に制御し、より正確な測定機能を得られる可能性があります。**パフォーマンスバジェット統合**- CLSは、自動化された品質保証のためのパフォーマンスバジェットツールと継続的インテグレーションワークフローにより統合される可能性があります。

## 参考文献

1. Google Web Fundamentals - Core Web Vitals Documentation (web.dev/vitals)
2. W3C Layout Instability API Specification (w3c.github.io/layout-instability)
3. Chrome DevTools Performance Analysis Guide (developers.google.com/web/tools/chrome-devtools)
4. WebPageTest CLS Measurement Documentation (webpagetest.org/docs)
5. Mozilla Developer Network - Layout Stability Guidelines (developer.mozilla.org)
6. Google Search Central - Page Experience Update Documentation (developers.google.com/search)
7. Lighthouse Performance Auditing Guide (developers.google.com/web/tools/lighthouse)
8. Core Web Vitals Research Papers and Case Studies (web.dev/case-studies)
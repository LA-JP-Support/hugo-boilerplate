---
title: Lighthouse CI
date: 2026-01-29
translationKey: lighthouse-ci
description: Lighthouse CIは、継続的インテグレーションパイプラインにおいてWebパフォーマンス監査を自動化し、チームが最適なサイトパフォーマンスを監視・維持できるようにします。
keywords:
- lighthouse ci
- Webパフォーマンス監視
- 継続的インテグレーション
- パフォーマンステスト
- 自動監査
category: Technical
type: glossary
draft: false
e-title: Lighthouse CI
url: /ja/glossary/lighthouse-ci/
term: ライトハウス シーアイ
---

## Lighthouse CIとは?
Lighthouse CIは、Googleが開発した強力な継続的インテグレーションツールで、開発ライフサイクル全体を通じてWebアプリケーションに対するLighthouse監査を自動化するプロセスを実現します。このツールは、GoogleのLighthouseパフォーマンス監査機能をCI/CDパイプラインにシームレスに統合することで拡張し、開発チームがコード変更のたびにWebパフォーマンス、アクセシビリティ、SEO、ベストプラクティスを自動的に監視できるようにします。一貫した自動テスト環境を提供することで、Lighthouse CIはパフォーマンスの劣化を開発プロセスの早期段階で、本番環境に到達する前に検出することを保証します。

このツールは、ビルドプロセス中に指定されたURLに対してLighthouse監査を実行し、パフォーマンスメトリクスを収集し、事前定義された閾値や履歴データと比較することで動作します。この自動化されたアプローチにより、パフォーマンステストの手動オーバーヘッドを排除しながら、コード変更がユーザーエクスペリエンスにどのように影響するかについて客観的でデータ駆動型の洞察を提供します。Lighthouse CIは、パフォーマンスメトリクスが許容レベルを下回った場合にビルドを失敗させるように設定でき、開発ワークフロー全体を通じてパフォーマンスが優先事項であり続けることを保証します。

Lighthouse CIをスタンドアロンのLighthouse監査と区別する特徴は、時間経過に伴うトレンド分析と履歴パフォーマンスデータを提供する能力です。このツールは監査結果の包括的なデータベースを維持し、チームが複数のリリースにわたってパフォーマンスの改善や劣化を追跡できるようにします。このパフォーマンスデータの長期的な視点により、チームは最適化の優先順位について情報に基づいた意思決定を行い、パフォーマンス改善の効果を測定できます。さらに、Lighthouse CIは複数のデプロイメント環境をサポートしており、本番デプロイメント前に異なるステージング環境でパフォーマンスをテストすることが可能です。

## 主な機能

**• 自動パフォーマンス監査**
Lighthouse CIは、すべてのビルドで包括的なパフォーマンス監査を自動的に実行し、手動テストの必要性を排除し、一貫したパフォーマンス監視を保証します。このツールは、パフォーマンスの変動を考慮するために複数の監査実行を行い、典型的なユーザーエクスペリエンスを正確に表す平均化された結果を提供します。

**• 継続的インテグレーション統合**
このツールは、GitHub Actions、Jenkins、Travis CI、CircleCI、GitLab CI/CDなどの人気のあるCI/CDプラットフォームとシームレスに統合します。この統合により、パフォーマンステストが開発ワークフローの不可欠な部分となり、結果が自動的にプルリクエストやビルドログに報告されます。

**• 履歴パフォーマンス追跡**
Lighthouse CIは、すべての監査結果の詳細な履歴記録を維持し、チームが時間経過に伴うパフォーマンストレンドを追跡し、劣化がいつ導入されたかを特定できるようにします。この履歴データには、パフォーマンスバジェット、Core Web Vitals、チームがアプリケーションにとって重要と定義するカスタムメトリクスが含まれます。

**• 設定可能なパフォーマンスバジェット**
チームは、ロード時間、バンドルサイズ、アクセシビリティスコアなど、さまざまなメトリクスの許容閾値を定義するカスタムパフォーマンスバジェットを確立できます。これらのバジェットを超えた場合、Lighthouse CIは自動的にビルドを失敗させたり、アラートをトリガーしたりして、パフォーマンスの劣化が本番環境に到達するのを防ぎます。

**• 複数URL テスト機能**
このツールは、単一プロジェクト内で複数のURLのテストをサポートし、チームが異なるページ、ユーザーフロー、アプリケーション状態にわたってパフォーマンスを監視できるようにします。この包括的なテストアプローチにより、パフォーマンス最適化がアプリケーションの他の部分に意図せず影響を与えないことを保証します。

**• 詳細なレポートと可視化**
Lighthouse CIは、パフォーマンスメトリクス、改善提案、異なるビルド間の視覚的比較を含む、豊富でインタラクティブなレポートを提供します。これらのレポートは、Webインターフェースを通じてアクセスしたり、他の監視およびレポートツールとの統合のためにエクスポートしたりできます。

**• サーバーとCLIコンポーネント**
このツールは、サーバーとコマンドラインインターフェースの両方のコンポーネントで構成されており、デプロイメントと使用において柔軟性を提供します。サーバーコンポーネントは監査ストレージとレポートを管理し、CLIはローカルテストとさまざまなビルドシステムとの統合を可能にします。

**• アサーションベースのテスト**
Lighthouse CIは、ビルドが合格するために満たす必要がある特定の条件をチームが定義できるアサーションベースのテストをサポートします。これらのアサーションは、パフォーマンスメトリクス、アクセシビリティ要件、SEO基準、ベストプラクティスのコンプライアンスをカバーできます。

## 仕組み

Lighthouse CIは、開発環境内での設定とセットアップから始まる多段階プロセスを通じて動作します。初期セットアップには、Lighthouse CIパッケージのインストール、監査パラメータの設定、テストするURLの定義が含まれます。チームは、特定のパフォーマンス要件と開発ワークフローに合わせたパフォーマンスバジェット、アサーション基準、統合設定を指定します。

ビルドプロセス中、Lighthouse CIは、新しいコミット、プルリクエスト、スケジュールされた間隔などの指定された条件が満たされたときに自動的にトリガーされます。このツールは、一貫したテスト環境を保証するためにヘッドレスモードでChromeの複数のインスタンスを起動し、設定されたURLに対してLighthouse監査を実行します。各監査は、Core Web Vitals、アクセシビリティスコア、SEOメトリクス、ベストプラクティスのコンプライアンスを含む包括的なパフォーマンスデータを収集します。

監査実行フェーズでは、パフォーマンスの変動とネットワーク条件を考慮するために、各テストの複数回の反復を実行します。Lighthouse CIは通常、URL当たり3〜5回の監査を実行し、安定した代表的なパフォーマンスメトリクスを提供するために中央値を計算します。このアプローチにより、一時的なパフォーマンス変動の影響を最小限に抑え、より信頼性の高いトレンドデータを提供します。

監査完了後、Lighthouse CIは事前定義されたバジェットとアサーションに対して結果を処理します。このツールは、現在のパフォーマンスメトリクスを履歴データおよび確立された閾値と比較して、ビルドが合格するか失敗するかを判断します。その後、結果はLighthouse CIサーバーまたは統合レポートシステムにアップロードされ、履歴パフォーマンス記録の一部となります。

最終段階には、レポートと通知が含まれ、Lighthouse CIは詳細なレポートを生成し、開発チームに結果を伝達します。これには、プルリクエストのステータスチェックの更新、設定されたチャネルへの通知の送信、最新のパフォーマンスデータでのダッシュボードの更新が含まれます。このツールは、監査プロセス中に特定されたパフォーマンス問題に対処するための実行可能な推奨事項も提供します。

## メリット

**開発チームにとって:**
- **早期パフォーマンス問題検出**: パフォーマンスの劣化が導入された直後に検出し、開発サイクルの後半で問題を修正するコストと複雑さを削減します
- **自動化されたテストワークフロー**: 手動パフォーマンステストのオーバーヘッドを排除し、開発者がパフォーマンス基準を維持しながら機能開発に集中できるようにします
- **客観的なパフォーマンスメトリクス**: パフォーマンスの主観的評価を排除し、エビデンスに基づく最適化の意思決定を可能にするデータ駆動型の洞察を提供します
- **継続的なパフォーマンス改善**: 開発プロセス全体を通じてパフォーマンスメトリクスを可視化し実行可能にすることで、パフォーマンス意識の文化を確立します

**組織にとって:**
- **パフォーマンス関連インシデントの削減**: パフォーマンスの劣化が本番環境に到達するのを防ぎ、ユーザーエクスペリエンスの問題と潜在的なビジネスへの影響を削減します
- **一貫したユーザーエクスペリエンスの向上**: すべてのリリースにわたって一貫したパフォーマンス基準を維持し、ユーザーが信頼性の高い高速ロードエクスペリエンスを受け取ることを保証します
- **費用対効果の高いパフォーマンス管理**: 専任のパフォーマンステストリソースの必要性を削減しながら、包括的なパフォーマンス監視機能を提供します
- **コンプライアンスと基準の遵守**: アプリケーションが規制コンプライアンスやビジネス目標に必要なアクセシビリティ、SEO、パフォーマンス基準を満たすことを保証します

**品質保証にとって:**
- **包括的なテストカバレッジ**: 速度、アクセシビリティ、ベストプラクティスを含む複数のパフォーマンス次元にわたる自動テストを提供します
- **一貫したテスト環境**: 一貫性のない結果やパフォーマンス問題の見逃しにつながる可能性のあるテスト条件の変動を排除します
- **既存ワークフローとの統合**: 大幅なワークフロー変更を必要とせずに、確立されたQAプロセスとCI/CDパイプライン内で動作します

## 一般的な使用例

**• Eコマースパフォーマンス監視**
オンライン小売業者は、Lighthouse CIを使用して、製品ページ、チェックアウトフロー、検索機能を含む重要なユーザージャーニーを監視します。このツールは、パフォーマンス最適化がコンバージョン率に悪影響を与えないこと、および新機能がピークショッピング期間中に許容可能なロード時間を維持することを保証するのに役立ちます。

**• プログレッシブWebアプリ開発**
PWAを構築する開発チームは、Lighthouse CIを活用して、サービスワーカー機能、オフライン機能、モバイルパフォーマンスを含むPWA固有のメトリクスを監視します。このツールは、アプリケーションがPWAコンプライアンス基準を維持し、異なるデバイスとネットワーク条件にわたって最適なモバイルエクスペリエンスを提供することを保証します。

**• コンテンツ管理システムの最適化**
コンテンツ管理システムを使用する組織は、Lighthouse CIを実装して、コンテンツの更新やテーマの変更がサイトパフォーマンスにどのように影響するかを監視します。この使用例は、変更のパフォーマンスへの影響を認識していない可能性のある複数のコンテンツ貢献者がいるサイトにとって特に価値があります。

**• マルチ環境パフォーマンステスト**
チームは、Lighthouse CIを使用して開発、ステージング、本番環境にわたってパフォーマンスをテストし、一貫性を確保し、環境固有のパフォーマンス問題を特定します。このアプローチは、パフォーマンス最適化が異なるデプロイメント構成で効果的に機能することを検証するのに役立ちます。

**• パフォーマンスバジェットの実施**
組織は、異なるタイプのページに対してパフォーマンスバジェットを確立し、Lighthouse CIを使用してこれらの基準を自動的に実施します。これにより、機能の肥大化と技術的負債が時間の経過とともにサイトパフォーマンスを徐々に低下させることを防ぎます。

**• アクセシビリティコンプライアンス監視**
厳格なアクセシビリティ要件を持つアプリケーションに取り組むチームは、Lighthouse CIを使用してアクセシビリティスコアを継続的に監視し、WCAGガイドラインへのコンプライアンスを保証します。このツールは、UI変更や新機能開発を通じて導入される可能性のあるアクセシビリティの劣化を特定するのに役立ちます。

**• サードパーティ統合の影響評価**
組織は、Lighthouse CIを使用して統合前後のパフォーマンスを監視することで、サードパーティサービス、分析ツール、広告ネットワークのパフォーマンスへの影響を評価します。これにより、チームはパフォーマンスコストに基づいて、どのサードパーティサービスを含めるかについて情報に基づいた意思決定を行うことができます。

## ベストプラクティス

**• 現実的なパフォーマンスバジェットの確立**
アプリケーションの特定の要件とユーザーの期待に基づいて、挑戦的でありながら達成可能なパフォーマンスバジェットを設定します。閾値を定義する際には、ターゲットオーディエンス、デバイス機能、ネットワーク条件などの要因を考慮してください。アプリケーションが進化し、パフォーマンス最適化の取り組みが改善をもたらすにつれて、バジェットを定期的に見直し調整します。

**• 複数のテストURLの設定**
ホームページだけでなく、ランディングページ、コンテンツページ、重要なユーザーフローを含むアプリケーション全体の代表的なページをテストします。この包括的なアプローチにより、パフォーマンス最適化がユーザーエクスペリエンス全体に利益をもたらし、新機能が予期しない領域でパフォーマンスのボトルネックを作成しないことを保証します。

**• 段階的なパフォーマンス改善の実装**
開発チームを圧倒しないように、すぐに積極的なパフォーマンス目標を設定するのではなく、時間をかけて段階的な改善を実装します。ベースライン測定から始め、最適化の取り組みが結果をもたらし、チームがパフォーマンス重視の開発プラクティスに慣れるにつれて、パフォーマンスバジェットを徐々に厳しくします。

**• 一貫したテスト環境の使用**
Lighthouse CIが、同様のサーバー構成、ネットワーク条件、サードパーティサービス統合を含む本番条件に近い環境で実行されることを保証します。この一貫性により、パフォーマンス測定が実世界のユーザーエクスペリエンスを正確に反映することを保証します。

**• コードレビュープロセスへのパフォーマンスレビューの統合**
パフォーマンス監査結果をコードレビューディスカッションの標準的な部分とし、開発者が変更のパフォーマンスへの影響を考慮するよう促します。パフォーマンスの劣化がいつ許容されるか、いつマージ承認前に追加の最適化作業が必要かについて明確なガイドラインを確立します。

**• Core Web Vitalsの特別な監視**
Core Web Vitalsメトリクス(LCP、FID、CLS)は検索エンジンランキングとユーザーエクスペリエンスに直接影響するため、特に注意を払います。これらのメトリクスに対する特定のアサーションとバジェットを設定して、アプリケーションが一貫して良好なCore Web Vitalsスコアを維持することを保証します。

**• パフォーマンス最適化の意思決定の文書化**
パフォーマンス最適化の意思決定、行われたトレードオフ、特定のパフォーマンスバジェット設定の背後にある根拠の文書を維持します。この文書は、新しいチームメンバーがパフォーマンスの優先順位を理解するのに役立ち、将来の最適化の取り組みのためのコンテキストを提供します。

**• 適切な通知チャネルの設定**
パフォーマンスバジェットを超えた場合や重大な劣化が検出された場合に、関連するチームメンバーに警告するように通知を設定します。適切な閾値を設定し、最も関連性の高いステークホルダーに通知をターゲティングすることで、タイムリーなアラートの必要性と通知疲労の回避のバランスを取ります。

## 課題と考慮事項

**• パフォーマンステストの変動性**
ネットワーク条件、サーバー負荷、その他の環境要因により、パフォーマンステスト結果が実行間で大きく変動する可能性があり、誤検出や劣化の見逃しにつながる可能性があります。チームは、この変動性を考慮しながら意味のあるパフォーマンス変化を検出するために、適切な平均化メカニズムと許容閾値を設定する必要があります。

**• リソース消費とビルド時間への影響**
包括的なLighthouse監査の実行は、特に複数のURLをテストしたり複数の監査反復を実行したりする場合、CI/CDビルド時間を大幅に増加させる可能性があります。組織は、徹底的なパフォーマンステストと許容可能なビルド期間およびリソース消費のバランスを取る必要があり、パフォーマンステスト専用のCIリソースが必要になる可能性があります。

**• 設定の複雑さ管理**
多様なパフォーマンス要件を持つ大規模アプリケーションの場合、適切なバジェット、アサーション、統合でLighthouse CIをセットアップすることは複雑になる可能性があります。チームは、過度なノイズや誤警報を生成することなく価値ある洞察を提供するために、適切な設定と継続的なメンテナンスに時間を投資する必要があります。

**• 履歴データのストレージと管理**
監査結果の長期保存は、特に複数のプロジェクトにわたって頻繁に監査を実行する組織にとって、大量のデータベースリソースを消費する可能性があります。持続可能なLighthouse CI実装のためには、データ保持ポリシー、ストレージスケーリング、履歴データ分析機能の計画が不可欠です。

**• 既存のパフォーマンス監視との統合**
Lighthouse CIの結果を既存のアプリケーションパフォーマンス監視(APM)ツールやリアルユーザー監視(RUM)システムと調整することは困難な場合があります。チームは、包括的なパフォーマンス監視戦略を作成するために、合成テスト結果と実世界のパフォーマンスデータの間に明確な関係を確立する必要があります。

**• チームトレーニングと採用の課題**
開発者は、パフォーマンスメトリクスを理解し、Lighthouse CIの結果を解釈し、適切な最適化を実装するためのトレーニングが必要な場合があります。成功した採用には、教育への投資と、ツールによって特定されたパフォーマンス問題に対処するための明確なプロセスの確立が必要です。

**• 誤検出の管理**
過度に厳格なパフォーマンスバジェットや環境の不一致により、実際のパフォーマンス問題を表さない頻繁なビルド失敗が発生する可能性があります。チームは、実際のパフォーマンス劣化に対する感度を維持しながら誤検出を最小限に抑えるために、設定を慎重に調整する必要があります。

**• サードパーティサービスの依存関係**
サードパーティサービスに大きく依存するアプリケーションは、制御できないパフォーマンス変動を経験する可能性があり、一貫したパフォーマンスバジェットを維持することが困難になります。組織は、サードパーティのパフォーマンス影響を処理し、特定のメトリクスをクリティカルパステストから除外する戦略が必要です。

## 参考文献

- [Lighthouse CI Documentation - Google Developers](https://github.com/GoogleChrome/lighthouse-ci)
- [Getting Started with Lighthouse CI - Web.dev](https://web.dev/lighthouse-ci/)
- [Lighthouse Performance Auditing - Google Chrome Developers](https://developers.google.com/web/tools/lighthouse)
- [Core Web Vitals and Lighthouse - Google Search Central](https://developers.google.com/search/docs/advanced/experience/page-experience)
- [Continuous Integration Best Practices - GitHub](https://docs.github.com/en/actions/learn-github-actions/introduction-to-github-actions)
- [Web Performance Budgets - Mozilla Developer Network](https://developer.mozilla.org/en-US/docs/Web/Performance/Performance_budgets)
- [Automated Performance Testing - Smashing Magazine](https://www.smashingmagazine.com/2020/06/performance-budgets-that-stick/)
- [CI/CD Pipeline Integration - CircleCI Documentation](https://circleci.com/docs/2.0/configuration-reference/)
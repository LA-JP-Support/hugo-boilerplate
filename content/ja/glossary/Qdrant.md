---
title: Qdrant
date: '2025-12-19'
lastmod: '2025-12-19'
translationKey: qdrant
description: Qdrantは、高次元ベクトルデータ向けのオープンソースベクトル類似検索エンジン兼ベクトルデータベースで、セマンティック検索、RAG、レコメンデーションを可能にします。
keywords:
- Qdrant
- ベクトルデータベース
- ベクトル検索
- 埋め込み
- RAG
category: AI Infrastructure & Deployment
type: glossary
draft: false
e-title: Qdrant
term: キュードラント
url: "/ja/glossary/qdrant/"
aliases:
- "/ja/glossary/Qdrant/"
---
## Qdrantとは?
Qdrant(クアドラントと発音)は、オープンソースのベクトル類似性検索エンジンおよびベクトルデータベースであり、機械学習およびディープラーニングモデルによって生成される高次元ベクトルデータ(埋め込み)の保存、インデックス作成、検索に特化して設計されています。高速でスケーラブルなセマンティック検索、レコメンデーションシステム、検索拡張生成(RAG)、異常検知、その他のAI/MLユースケースを実現することで、Qdrantは膨大な非構造化データセットを扱う現代のデータ駆動型アプリケーションの独自のニーズに対応します。

堅牢なパフォーマンスとメモリ安全性を実現するためにRustで実装されたQdrantは、オープンソースとフルマネージドクラウドサービスの両方で利用可能です。このプラットフォームは、テキスト、画像、音声、動画、その他のデータタイプのセマンティクスを表す埋め込みを保存し、数十億の高次元ベクトルを低レイテンシ検索用にインデックス化し、設定可能な距離メトリクスを使用してクエリベクトルに最も類似したベクトルを検索します。

従来のデータベース(リレーショナルまたはNoSQL)は構造化データの保存に優れていますが、ニューラルモデルからの高次元埋め込み、数学的ベクトル距離を使用した類似性検索、テキスト、画像、音声などの非構造化およびマルチモーダルデータには対応していません。Qdrantのようなベクトルデータベースは、現代のAI/MLワークロードに不可欠な類似性によるクエリに最適化されています。

## コアコンセプト

### ベクトル(埋め込み)

ベクトルは、埋め込みモデル(例:OpenAI、HuggingFace、CLIP)によって生成されたオブジェクトのセマンティック特徴を表す、通常は浮動小数点数の順序付きリストです。各数値は高次元空間における座標です。ベクトルは意味やコンテキストを「エンコード」し、数学的比較を可能にします。

**タイプ:**
- **密ベクトル:** ほとんどの要素がゼロ以外;通常はトランスフォーマーモデルから生成
- **疎ベクトル:** ほとんどの要素がゼロ;キーワードベース(BM25)検索で一般的

**例:**  
文の768次元ベクトル、製品説明の1536次元ベクトル

### ポイント

Qdrantにおけるデータの原子単位で、各ポイントは以下で構成されます:
- **ID:** 一意のキー(整数またはUUID)
- **ベクトル:** 高次元埋め込み
- **ペイロード:** オプションのスキーマレスJSONメタデータ

ポイントはペイロードを介したフィルタリングとファセット検索をサポートし、SQLの「行」に類似していますが、ベクトルが主要データとなります。

### コレクション

同じ次元数と距離メトリクスを共有するポイント(ベクトル+ペイロード)の名前付きセット。コレクションはSQLのテーブルに類似しており、ベクトルサイズ、距離メトリクス、ストレージタイプ(RAM、memmap/オンディスク)、量子化設定で構成されます。

### 距離メトリクス

2つのベクトル間の「類似性」を測定する関数:

**コサイン類似度:** ベクトル間の角度を測定;テキスト埋め込みで一般的

**ドット積:** 方向と大きさの両方に敏感;レコメンデーションで使用

**ユークリッド距離:** 直線距離;画像またはセンサー埋め込みに有用

**マンハッタン距離:** 絶対差の合計;疎データで時々使用

### ペイロード

各ポイントに添付される柔軟なJSONオブジェクトで、タグ、カテゴリ、タイムスタンプ、生テキストなどの構造化メタデータを保存します。ペイロードは高度なフィルタリングとファセット検索を可能にし、フィールドは高速検索とフィルタリングのためにインデックス化できます。

### ストレージオプション

**RAMストレージ:** ベクトルをメモリに保存;利用可能なRAMに収まるデータセットに最速

**Memmap(オンディスク)ストレージ:** ベクトルをディスクに保存し、効率的なアクセスのためにメモリマップ;RAMを超える大規模データセットに重要

**量子化ストレージ:** ベクトルを圧縮してより少ないビット(例:8ビット、2ビット)を使用;精度とのトレードオフでより大規模なデータセットを可能に

## インデックス作成と検索

### HNSW(階層的ナビゲート可能スモールワールド)

近似最近傍(ANN)検索のためのグラフベースのインデックスで、対数スケーリングを提供し、速度と再現率のバランスを取ります。HNSWは、精度/速度のトレードオフを調整するために`m`、`ef`、`ef_construct`パラメータで設定可能です。

### ペイロードインデックス

高速フィルタリングのために特定のフィールド(例:文字列、数値、キーワード)をインデックス化:

```python
client.create_payload_index(
    collection_name="products",
    field_name="category",
    field_schema="keyword"
)
```

### ハイブリッド検索

密ベクトル埋め込みと疎キーワード検索を組み合わせて最大の関連性を実現し、Reciprocal Rank Fusion(RRF)などのスコア融合技術を通じてセマンティック理解と従来のキーワードマッチングの両方を活用します。

### 量子化

値あたりのビット数を減らしてベクトルを表現することでベクトルを圧縮し、RAMまたはディスクにより多くのベクトルを保存できるようにします。Qdrantはスカラー量子化、極端な圧縮のためのバイナリ/非対称量子化、および適切に調整された場合の最小限の精度損失を伴うさまざまな量子化戦略をサポートします。

## 主要機能

**サブミリ秒検索:** 数十億のベクトル全体でもミリ秒単位で結果を返し、リアルタイムアプリケーションを可能に

**サーバーレススケーリング:** 使用状況に基づいてリソースが自動的にスケール;手動のシャーディングやプロビジョニングは不要

**リアルタイムデータ取り込み:** 新しいベクトルはアップサート後すぐに検索可能になり、動的アプリケーションをサポート

**高度なフィルタリング:** 類似性とメタデータフィルタを組み合わせて正確な結果を実現

**マルチテナンシー:** 名前空間により、インフラストラクチャを共有しながら顧客またはチームのデータを分離

**セキュリティとコンプライアンス:** SOC 2、GDPR、ISO 27001、HIPAA認証取得済みで、保存時および転送時のデータ暗号化

## 一般的なユースケース

### セマンティック検索

ユーザーがキーワードだけでなく意味によって膨大なドキュメントコレクションを検索できるようにします。すべてのアイテムのベクトル埋め込みを保存し、ユーザークエリを埋め込み、コサインまたは他のメトリクスを使用して高い類似性を持つベクトルを検索します。

**例:** 「このサポートチケットにセマンティックに類似したFAQを検索」

### レコメンデーションシステム

ユーザーの行動と好みをベクトルとしてマッチングすることで、高度にパーソナライズされたレコメンデーションを提供します。ユーザーとアイテムの両方の埋め込みを保存し、ドット積またはコサイン類似度を使用して最適なマッチを見つけます。

**例:** 「このユーザーが視聴したものに類似した映画を推薦」

### 検索拡張生成(RAG)

関連するドキュメントを動的に検索することで、LLMに関連コンテキストを提供します。すべてのドキュメントの埋め込みを保存し、ユーザークエリを埋め込み、フィルタリング、バッチ処理、ハイブリッド検索をサポートしてLLMコンテキストとしてトップk件の結果を検索します。

### 異常検知

詐欺検知やシステム監視のために、高次元データの外れ値や異常なパターンを検出します。履歴イベント埋め込みを保存し、新しいイベントを埋め込み、最近傍を検索—近傍からの大きな距離は異常を示します。

### マルチモーダル検索とクラスタリング

テキスト、画像、構造化データを一緒に扱います。ポイントごとに複数の名前付きベクトル(例:画像とテキスト)を保存し、ベクトル類似性とメタデータフィルタリングを使用してクラスタリングします。

## 実装例

### Python統合

```python
from qdrant_client import QdrantClient, models

# Qdrantに接続
client = QdrantClient("http://localhost:6333")

# 1. コレクションを作成
client.create_collection(
    collection_name="products",
    vectors_config=models.VectorParams(size=768, distance=models.Distance.COSINE)
)

# 2. ポイント(ベクトル+ペイロード)を挿入
client.upsert(
    collection_name="products",
    points=[
        models.PointStruct(
            id=1,
            vector=[0.1, 0.2, 0.3, ...],
            payload={"category": "books", "author": "Alice"}
        )
    ]
)

# 3. 類似ベクトルを検索
query_vector = [0.15, 0.18, 0.28, ...]
results = client.search(
    collection_name="products",
    query_vector=query_vector,
    limit=3
)

for hit in results:
    print(hit.id, hit.payload)
```

## 機能比較

| 機能 | Qdrant | 従来のDB |
|---------|--------|----------------|
| データモデル | ベクトル(埋め込み) | 行/列またはドキュメント |
| クエリタイプ | 類似性検索 | 完全一致、範囲、結合 |
| フィルタリング | ペイロード(メタデータ) | 列、フィールド |
| インデックス作成 | HNSW、ハイブリッド | B木、ハッシュ、テキストインデックス |
| ストレージモード | RAM、Memmap、量子化 | RAM、ディスク |
| ユースケース | セマンティック、RAG、RecSys、異常検知 | OLTP、OLAP、CRUD |

## Qdrant Cloud

自動スケーリング、ゼロダウンタイムアップグレード、監視、永久無料ティアを提供する、フルマネージドのエンタープライズグレードQdrantホスティング。サーバー管理不要で、シングルテナントおよびマルチテナントデプロイメントのサポートと高度なセキュリティおよびコンプライアンス機能を提供します。

## ベストプラクティス

**適切な距離メトリクスを選択:** データ特性に基づいて、テキストにはコサイン、レコメンデーションにはドット積、画像にはユークリッドを選択

**ストレージを最適化:** 速度にはRAM、大規模データセットにはmemmap、最大容量には量子化を使用

**ペイロードを戦略的にインデックス化:** パフォーマンスのために頻繁にフィルタリングされるフィールドをインデックス化し、過度なインデックス化を避ける

**HNSWパラメータを調整:** 検索精度と速度のバランスを取るために`m`、`ef`、`ef_construct`を調整

**マルチテナンシーを適切に実装:** ペイロードにテナントフィールドを持つ単一コレクションを使用し、すべての操作をテナントIDでフィルタリング

**パフォーマンスを監視:** クエリレイテンシ、スループット、リソース使用率を追跡して設定を最適化

## サポート言語

**利用可能なクライアントSDK:**
- Python
- Go
- Rust
- JavaScript/TypeScript
- Java
- C#

## よくある質問

**QdrantはFAISSやスタンドアロンのベクトルライブラリとどう違うのですか?**  
Qdrantは、リアルタイム更新、メタデータフィルタリング、アクセス制御、マルチテナンシー、サーバーレススケーリングを備えた、フルマネージドの本番グレードデータベースです。FAISSのようなライブラリはローカルベクトル検索には強力ですが、データベース機能、クラウドネイティブの信頼性、運用管理が欠けています。

**どのようなデータを保存できますか?**  
ベクトルとして埋め込み可能な任意のデータ:テキスト、画像、音声、ユーザーイベント、時系列、製品カタログなど。

**Qdrantはどのようにセキュリティとコンプライアンスを確保していますか?**  
データは保存時および転送時に階層的暗号化キーとプライベートネットワーキングで暗号化されます。QdrantはSOC 2、GDPR、ISO 27001、HIPAA認証を保持しています。

**Qdrantはリレーショナルまたはドキュメントデータベースと併用できますか?**  
はい。Qdrantは通常、SQL/NoSQLストアを補完し、非構造化の高次元検索を処理しながら、構造化またはトランザクションデータは従来のシステムに残ります。

## 参考文献

- [Qdrant公式ドキュメント](https://qdrant.tech/documentation/)
- [ベクトルデータベースとは?](https://qdrant.tech/articles/what-is-a-vector-database/)
- [Qdrant製品ページ](https://www.qdrant.tech/)
- [ベクトル埋め込みの説明](https://www.pinecone.io/learn/vector-embeddings/)
- [Qdrantアーキテクチャドキュメント](https://qdrant.tech/documentation/guides/get-started/database-architecture)
- [HNSWアルゴリズムの説明](https://www.pinecone.io/learn/series/faiss/hnsw/)
- [Qdrantクイックスタートガイド](https://qdrant.tech/documentation/quick-start/)
- [インデックスの作成と管理](https://qdrant.tech/documentation/concepts/indexing/)
- [メタデータによるフィルタリング](https://qdrant.tech/documentation/guides/search/filter-by-metadata)
- [Qdrantセキュリティ](https://www.qdrant.tech/security/)
- [Qdrant Cloud概要](https://qdrant.tech/cloud/)
- [Qdrantコレクションドキュメント](https://qdrant.tech/documentation/concepts/collections/)
- [距離メトリクスリファレンス](https://qdrant.tech/documentation/concepts/collections/#distance-metrics)
- [Qdrantのペイロード](https://qdrant.tech/documentation/concepts/payload/)
- [量子化ガイド](https://qdrant.tech/documentation/guides/quantization/)
- [ハイブリッド検索ドキュメント](https://qdrant.tech/articles/hybrid-search/)
- [ベクトル検索リソース最適化](https://qdrant.tech/articles/vector-search-resource-optimization/)
- [開発者向けQdrantフレンドリーガイド](https://www.cohorte.co/blog/a-developers-friendly-guide-to-qdrant-vector-database)
- [RAGのためのLangChain統合](https://docs.langchain.com/oss/python/integrations/vectorstores/qdrant)

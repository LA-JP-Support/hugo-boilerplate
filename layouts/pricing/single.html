{{ define "main" }}

{{ if .Params.showBreadcrumbs }}
  {{ partial "breadcrumbs_default.html" . }}
{{ end }}

<!-- Hero Section - アニメーション背景付き -->
<div class="relative overflow-visible z-10">
  <div class="pricing-hero-animated-bg absolute inset-0 z-0"></div>
  <div class="pricing-hero-overlay absolute inset-0 z-0"></div>
  <div class="pricing-hero-glow absolute inset-0 z-[5]">
    <div class="pricing-hero-glow-orb"></div>
  </div>
  <div class="relative z-10 py-12 sm:py-16">
    <div class="mx-auto max-w-7xl px-6 lg:px-8">
      <div class="mx-auto max-w-4xl text-center">
        <p class="text-base font-semibold text-indigo-200">{{ .Params.tagline | default "料金プラン" }}</p>
        <h1 class="mt-2 text-3xl font-bold tracking-tight text-white sm:text-4xl md:text-5xl">
          {{ .Params.hero_heading | default .Title }}
        </h1>
        <p class="mt-4 sm:mt-6 text-base sm:text-lg leading-7 text-gray-200">
          {{ .Params.hero_description | default .Description }}
        </p>
      </div>
    </div>
  </div>
</div>

<!-- AI Customer Support Section -->
{{ with .Params.ai_support }}
<div class="bg-white py-16 sm:py-24">
  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <div class="mx-auto max-w-4xl">
      <div class="flex items-center gap-4 mb-6">
        <div class="flex h-12 w-12 items-center justify-center rounded-xl bg-indigo-600">
          <svg class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25Z" />
          </svg>
        </div>
        <h2 class="text-3xl font-bold tracking-tight text-gray-900">{{ .heading }}</h2>
      </div>
      <p class="text-lg text-gray-600 mb-4">{{ .subheading }}</p>
      <div class="flex flex-wrap gap-2 mb-8">
        {{ range .features }}
        <span class="inline-flex items-center rounded-full bg-indigo-50 px-3 py-1 text-sm font-medium text-indigo-700">{{ . }}</span>
        {{ end }}
      </div>
      <div class="rounded-2xl bg-gray-50 p-6 mb-10">
        {{ .description | safeHTML }}
        {{ if .note }}
        <p class="text-sm text-gray-500 mt-4">{{ .note }}</p>
        {{ end }}
      </div>
    </div>

    <!-- Pricing Cards -->
    <div class="mx-auto max-w-4xl">
      <div class="grid gap-8 lg:grid-cols-2">
        {{ range $index, $plan := .plans }}
        {{ if $plan.popular }}
        <!-- Popular Plan -->
        <div class="relative rounded-3xl bg-indigo-600 p-8 ring-2 ring-indigo-600">
          <div class="absolute -top-4 right-8">
            <span class="inline-flex items-center rounded-full bg-indigo-500 px-4 py-1 text-xs font-semibold text-white">おすすめ</span>
          </div>
          <h3 class="text-xl font-semibold text-white">{{ $plan.name | safeHTML }}</h3>
          <p class="mt-4 text-sm text-indigo-200">{{ $plan.description }}</p>
          <div class="mt-6 flex items-baseline gap-x-2">
            <span class="text-sm font-semibold text-indigo-200">初期費用</span>
            <span class="text-4xl font-bold tracking-tight text-white">{{ $plan.initial_cost }}</span>
            <span class="text-sm font-semibold text-indigo-200">円〜</span>
            <span class="text-xs text-indigo-300">(税別)</span>
          </div>
          <div class="mt-2 flex items-baseline gap-x-2">
            <span class="text-sm font-semibold text-indigo-200">月額費用</span>
            <span class="text-3xl font-bold tracking-tight text-white">{{ $plan.monthly_cost }}</span>
            <span class="text-sm font-semibold text-indigo-200">円〜</span>
            <span class="text-xs text-indigo-300">(税別)</span>
          </div>
          <a href="{{ $plan.cta_url | default "/ja/contact/" }}" class="mt-8 block rounded-lg bg-white px-4 py-3 text-center text-sm font-semibold text-indigo-600 hover:bg-indigo-50 transition-colors">
            {{ $plan.cta_text | default "無料相談を予約" }}
          </a>
        </div>
        {{ else }}
        <!-- Normal Plan -->
        <div class="relative rounded-3xl bg-white p-8 ring-1 ring-gray-200 hover:ring-2 hover:ring-indigo-600 transition-all">
          <h3 class="text-xl font-semibold text-gray-900">{{ $plan.name | safeHTML }}</h3>
          <p class="mt-4 text-sm text-gray-500">{{ $plan.description }}</p>
          <div class="mt-6 flex items-baseline gap-x-2">
            <span class="text-sm font-semibold text-gray-600">初期費用</span>
            <span class="text-4xl font-bold tracking-tight text-gray-900">{{ $plan.initial_cost }}</span>
            <span class="text-sm font-semibold text-gray-600">円〜</span>
            <span class="text-xs text-gray-400">(税別)</span>
          </div>
          <div class="mt-2 flex items-baseline gap-x-2">
            <span class="text-sm font-semibold text-gray-600">月額費用</span>
            <span class="text-3xl font-bold tracking-tight text-indigo-600">{{ $plan.monthly_cost }}</span>
            <span class="text-sm font-semibold text-gray-600">円〜</span>
            <span class="text-xs text-gray-400">(税別)</span>
          </div>
          <a href="{{ $plan.cta_url | default "/ja/contact/" }}" class="mt-8 block rounded-lg bg-indigo-50 px-4 py-3 text-center text-sm font-semibold text-indigo-600 hover:bg-indigo-100 transition-colors">
            {{ $plan.cta_text | default "無料相談を予約" }}
          </a>
        </div>
        {{ end }}
        {{ end }}
      </div>
    </div>
  </div>
</div>
{{ end }}

<!-- AI Content Creation Section -->
{{ with .Params.ai_content }}
<div class="bg-gray-50 py-16 sm:py-24">
  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <div class="mx-auto max-w-4xl">
      <div class="flex items-center gap-4 mb-6">
        <div class="flex h-12 w-12 items-center justify-center rounded-xl bg-emerald-600">
          <svg class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 0 1-2.25 2.25M16.5 7.5V18a2.25 2.25 0 0 0 2.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 0 0 2.25 2.25h13.5M6 7.5h3v3H6v-3Z" />
          </svg>
        </div>
        <h2 class="text-3xl font-bold tracking-tight text-gray-900">{{ .heading }}</h2>
      </div>
    </div>

    {{ range .services }}
    <div class="mx-auto max-w-4xl mt-10">
      <div class="rounded-3xl p-8 ring-1 ring-emerald-200" style="background-color: #ecfdf5;">
        <h3 class="text-xl font-semibold text-gray-900 mb-4">{{ .name }}</h3>
        <p class="text-gray-600 mb-6">{{ .description }}</p>
        {{ if .initial_cost }}
        <div class="flex flex-wrap items-baseline gap-6">
          <div class="flex items-baseline gap-x-2">
            <span class="text-sm font-semibold text-gray-600">初期費用</span>
            <span class="text-3xl font-bold tracking-tight text-gray-900">{{ .initial_cost }}</span>
            <span class="text-sm font-semibold text-gray-600">円〜</span>
            <span class="text-xs text-gray-400">(税別)</span>
          </div>
          <div class="flex items-baseline gap-x-2">
            <span class="text-sm font-semibold text-gray-600">月額費用</span>
            <span class="text-3xl font-bold tracking-tight text-emerald-600">{{ .monthly_cost }}</span>
            <span class="text-sm font-semibold text-gray-600">円〜</span>
            <span class="text-xs text-gray-400">(税別)</span>
          </div>
        </div>
        {{ else }}
        <div class="flex items-center gap-4">
          <span class="text-2xl font-bold tracking-tight text-gray-900">{{ .price_note }}</span>
        </div>
        {{ end }}
        <a href="{{ .cta_url | default "/ja/contact/" }}" class="mt-6 inline-block rounded-lg bg-emerald-50 px-6 py-3 text-sm font-semibold text-emerald-600 hover:bg-emerald-100 transition-colors">
          {{ .cta_text | default "無料相談を予約" }}
        </a>
      </div>
    </div>
    {{ end }}
  </div>
</div>
{{ end }}

<!-- Hugo Web Section -->
{{ with .Params.hugo_web }}
<div class="bg-white py-16 sm:py-24">
  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <div class="mx-auto max-w-4xl">
      <div class="flex items-center gap-4 mb-6">
        <div class="flex h-12 w-12 items-center justify-center rounded-xl" style="background-color: #b45309;">
          <svg class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z" />
          </svg>
        </div>
        <h2 class="text-3xl font-bold tracking-tight text-gray-900">{{ .heading }}</h2>
      </div>
      <div class="rounded-2xl bg-amber-50 p-6 mb-10">
        {{ .description | safeHTML }}
      </div>

      <div class="rounded-3xl p-8 ring-1 ring-amber-300 hover:ring-2 hover:ring-amber-500 transition-all" style="background-color: #fffbeb;">
        <h3 class="text-xl font-semibold text-gray-900 mb-6">{{ .plan_name }}</h3>
        <div class="flex flex-wrap items-baseline gap-6">
          <div class="flex items-baseline gap-x-2">
            <span class="text-sm font-semibold text-gray-600">初期費用</span>
            <span class="text-4xl font-bold tracking-tight text-gray-900">{{ .initial_cost }}</span>
            <span class="text-sm font-semibold text-gray-600">円〜</span>
            <span class="text-xs text-gray-400">(税別)</span>
          </div>
          <div class="flex items-baseline gap-x-2">
            <span class="text-sm font-semibold text-gray-600">月額費用</span>
            <span class="text-3xl font-bold tracking-tight text-amber-500">{{ .monthly_cost }}</span>
            <span class="text-sm font-semibold text-gray-600">円〜</span>
            <span class="text-xs text-gray-400">(税別)</span>
          </div>
        </div>
        <a href="{{ .cta_url | default "/ja/contact/" }}" class="mt-8 inline-block rounded-lg bg-amber-50 px-6 py-3 text-sm font-semibold text-amber-600 hover:bg-amber-100 transition-colors">
          {{ .cta_text | default "無料相談を予約" }}
        </a>
      </div>
    </div>
  </div>
</div>
{{ end }}

<!-- Summary Table -->
{{ with .Params.summary_table }}
<div class="bg-gray-50 py-16 sm:py-24">
  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <div class="mx-auto max-w-4xl">
      <h2 class="text-2xl font-bold tracking-tight text-gray-900 text-center mb-10">{{ .heading }}</h2>
      <div class="overflow-hidden rounded-2xl bg-white ring-1 ring-gray-200">
        <table class="min-w-full divide-y divide-gray-200">
          <thead class="bg-gray-50">
            <tr>
              <th scope="col" class="px-6 py-4 text-left text-sm font-semibold text-gray-900">サービス</th>
              <th scope="col" class="px-6 py-4 text-right text-sm font-semibold text-gray-900">初期費用（税別）</th>
              <th scope="col" class="px-6 py-4 text-right text-sm font-semibold text-gray-900">月額費用（税別）</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-200">
            {{ range .sections }}
            <tr style="background-color: {{ .bg_color | default "#f9fafb" }};">
              <td colspan="3" class="px-6 py-3 text-sm font-semibold" style="color: {{ .text_color | default "#111827" }};">{{ .category }}</td>
            </tr>
            {{ range .items }}
            <tr>
              <td class="px-6 py-4 text-sm text-gray-900">{{ .name }}</td>
              {{ if .price_note }}
              <td class="px-6 py-4 text-sm text-gray-500 text-right" colspan="2">{{ .price_note }}</td>
              {{ else }}
              <td class="px-6 py-4 text-sm text-gray-900 text-right">{{ .initial_cost }}円〜</td>
              <td class="px-6 py-4 text-sm text-gray-900 text-right">{{ .monthly_cost }}円〜</td>
              {{ end }}
            </tr>
            {{ end }}
            {{ end }}
          </tbody>
        </table>
      </div>
      <p class="mt-6 text-sm text-gray-500 text-center">
        {{ .note }}
      </p>
    </div>
  </div>
</div>
{{ end }}

<!-- FAQ Section -->
{{ if .Params.faq }}
{{ partial "sections/faq/side-by-side" (dict
  "title" (i18n "faq_heading")
  "description" (i18n "faq_description")
  "items" .Params.faq
) }}
{{ end }}

<!-- CTA Section -->
{{ if not (eq .Params.showCTA false) }}
{{ partial "cta.html" . }}
{{ end }}

<style>
@keyframes pricingGradientShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes pricingFloat {
  0%, 100% { transform: translate(0px, 0px); }
  25% { transform: translate(30px, -50px); }
  50% { transform: translate(-20px, -100px); }
  75% { transform: translate(-50px, -50px); }
}

.pricing-hero-animated-bg {
  background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 25%, #a855f7 50%, #ec4899 75%, #4f46e5 100%);
  background-size: 400% 400%;
  animation: pricingGradientShift 10s ease infinite;
}

.pricing-hero-animated-bg::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 420px;
  height: 420px;
  background: rgba(255,255,255,0.10);
  border-radius: 50%;
  animation: pricingFloat 20s ease-in-out infinite;
}

.pricing-hero-animated-bg::after {
  content: '';
  position: absolute;
  bottom: 0;
  right: 0;
  width: 320px;
  height: 320px;
  background: rgba(255,255,255,0.10);
  border-radius: 50%;
  animation: pricingFloat 25s ease-in-out infinite reverse;
}

.pricing-hero-overlay {
  background: linear-gradient(180deg, rgba(2, 6, 23, 0.12) 0%, rgba(2, 6, 23, 0.26) 100%);
  pointer-events: none;
}

.pricing-hero-glow {
  pointer-events: none;
}

.pricing-hero-glow-orb {
  position: absolute;
  width: 280px;
  height: 280px;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.22) 0%, rgba(255, 255, 255, 0.00) 70%);
  border-radius: 50%;
  filter: blur(44px);
  transform: translate(-50%, -50%);
  opacity: 0.9;
  top: 50%;
  left: 50%;
}
</style>

{{ end }}

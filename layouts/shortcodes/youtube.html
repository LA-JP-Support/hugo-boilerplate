{{ $id := .Get "videoID" | default (.Get 0) }}
{{ $title := .Get "title" | default "YouTube video player" }}
<div class="youtube-embed-wrapper">
  <div class="youtube-embed-container">
    <iframe 
      src="https://www.youtube.com/embed/{{ $id }}" 
      title="{{ $title }}"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen 
      loading="lazy"
      frameborder="0">
    </iframe>
  </div>
</div>

<style>
/* YouTube埋め込みラッパー - 768px制限 */
.youtube-embed-wrapper {
  max-width: 768px !important;
  margin: 2rem auto 3rem !important;
  padding: 0 !important;
}

/* YouTubeコンテナ - 角丸・影付き */
.youtube-embed-container {
  position: relative !important;
  width: 100% !important;
  padding-top: 56.25% !important; /* 16:9 */
  border-radius: 18px !important;
  overflow: hidden !important;
  box-shadow: 0 25px 60px rgba(0, 0, 0, 0.25) !important;
  background: #000 !important;
}

/* iframe本体 */
.youtube-embed-container iframe {
  position: absolute !important;
  inset: 0 !important;
  width: 100% !important;
  height: 100% !important;
  border: 0 !important;
}

/* ダークモード */
.dark .youtube-embed-container {
  box-shadow: 0 25px 60px rgba(0, 0, 0, 0.5) !important;
}

/* モバイル最適化 */
@media (max-width: 768px) {
  .youtube-embed-wrapper {
    margin: 1.5rem auto 2rem !important;
    padding: 0 1rem !important;
  }
  
  .youtube-embed-container {
    border-radius: 12px !important;
  }
}
</style>

{{/*
@section: Simple Centered Hero
@description: A simple centered hero section with optional announcement, heading, description, two CTA buttons, an optional image, and optional typewriter effect.
@params:
  - theme: "light" (default) or "dark" — add class="dark" for section
  - announcement: Object with announcement information (optional)
    - text: Announcement text
    - linkText: Text for the announcement link
    - linkUrl: URL for the announcement link
  - heading: Main section heading (optional)
  - description: Description below the heading (optional)
  - cta: Object with CTA buttons information (optional)
    - primary: Primary CTA button (text, url)
    - secondary: Secondary CTA button (text, url)
  - tags: Array of tags (optional), will create tag links to /tags/[tag-name]/
  - resources: Array of resource objects with 'name' and 'link' properties (optional), displayed as download buttons
  - image: Object with image information (optional)
    - src: Image source URL
    - alt: Alt text for accessibility
    - width: Image width (optional)
    - height: Image height (optional)
    - class: Image class (optional)
  - typewriter: Object with typewriter effect configuration (optional)
    - enabled: Boolean to enable/disable the effect (default: false)
    - words: Number of words to animate (default: 1)
    - speed: Typing speed in ms (default: 100)
    - deleteSpeed: Deleting speed in ms (default: 50)
    - pause: Pause duration in ms (default: 2000)
    - color: Color class for animated text (default: "text-indigo-600")
  - imgBgClass: Background class for image container (default: "")
  - search: Object with search configuration (optional)
    - enabled: Boolean to enable search field (default: false)
    - directories: Array of directories to search in (default: [])
    - placeholder: Search placeholder text (default: i18n "search_placeholder")
    - searchFields: Fields to search in (default: ["title", "content", "tags", "categories"])
@example:
  {{ partial "sections/hero/simple_centered.html" (dict
      "announcement" (dict
          "text" "We've just launched a new version!"
          "linkText" "Read more"
          "linkUrl" "/blog/new-product"
      )
      "heading" "Data analysis for your online business"
      "description" "Our solution helps you better understand your customers and optimize your business."
      "cta" (dict
          "primary" (dict "text" "Get started" "url" "/signup")
          "secondary" (dict "text" ((i18n "learnMore") | default "Learn more") "url" "/features")
      )
      "image" (dict
          "src" "/images/dashboard-screenshot.png"
          "alt" "Dashboard screenshot"
          "width" "2432"
          "height" "1442"
          "class" "bg-white"
      )
      "typewriter" (dict
          "enabled" true
          "words" 2
          "speed" 150
          "deleteSpeed" 75
          "pause" 3000
          "color" "text-blue-600"
      )
  ) }}
*/}}


{{ $theme := .theme | default "light" }}
{{ $isDark := eq $theme "dark" }}
{{ $darkClass := cond $isDark "dark" "" }}

{{ $announcement := .announcement | default dict }}
{{ $heading := .heading | default "" }}
{{ $description := .description | default "" }}
{{ $cta := .cta | default dict }}
{{ $tags := .tags | default (slice) }}
{{ $resources := .resources | default (slice) }}
{{ $image := .image | default (dict
  "src" ""
  "alt" ""
  "width" ""
  "height" ""
  "class" ""
) }}
{{ $typewriter := .typewriter | default dict }}
{{ $typewriter := merge (dict "enabled" false) $typewriter }}
{{ $typewriter := merge (dict "words" 1) $typewriter }}
{{ $typewriter := merge (dict "speed" 100) $typewriter }}
{{ $typewriter := merge (dict "deleteSpeed" 50) $typewriter }}
{{ $typewriter := merge (dict "pause" 2000) $typewriter }}
{{ $typewriter := merge (dict "color" "text-indigo-600") $typewriter }}
{{ $typewriter := merge (dict "wordAlternatives" "") $typewriter }}{{/* comma separated words to alternate with */}}
{{ $padding := .padding | default "py-24 sm:py-32" }}

{{ $imgBgClass := .imgBgClass | default "" }}

{{ $search := .search | default dict }}
{{ $search := merge (dict "enabled" false) $search }}
{{ $search := merge (dict "directories" (slice)) $search }}
{{ $search := merge (dict "placeholder" (i18n "search_placeholder")) $search }}
{{ $search := merge (dict "searchFields" (slice "title" "content" "tags" "categories")) $search }}

<div class="{{ $darkClass }}">
  <style>
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    @keyframes float {
      0%, 100% { transform: translate(0px, 0px); }
      25% { transform: translate(30px, -50px); }
      50% { transform: translate(-20px, -100px); }
      75% { transform: translate(-50px, -50px); }
    }
    @keyframes slideInDown {
      from { opacity: 0; transform: translateY(-50px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes slideInUp {
      from { opacity: 0; transform: translateY(50px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .hero-enhanced {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #4facfe 75%, #667eea 100%);
      background-size: 400% 400%;
      animation: gradientShift 8s ease infinite;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }
    .hero-enhanced::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 400px;
      height: 400px;
      background: rgba(255,255,255,0.1);
      border-radius: 50%;
      animation: float 20s ease-in-out infinite;
    }
    .hero-enhanced::after {
      content: '';
      position: absolute;
      bottom: 0;
      right: 0;
      width: 300px;
      height: 300px;
      background: rgba(255,255,255,0.1);
      border-radius: 50%;
      animation: float 25s ease-in-out infinite reverse;
    }
    .hero-content {
      position: relative;
      z-index: 10;
    }
    .hero-content h1 {
      animation: slideInDown 0.8s ease-out;
    }
    .hero-content p {
      animation: slideInUp 0.8s ease-out 0.1s both;
    }
    .hero-content .cta-buttons {
      animation: slideInUp 0.8s ease-out 0.2s both;
    }
    .hero-glow {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 5;
    }
    .hero-glow-orb {
      position: absolute;
      width: 300px;
      height: 300px;
      background: radial-gradient(circle, rgba(99, 102, 241, 0.3) 0%, transparent 70%);
      border-radius: 50%;
      filter: blur(40px);
      transform: translate(-50%, -50%);
    }
  </style>
  <div class="hero-enhanced">
        <div class="wrapper {{ $padding }}">
          <div class="hero-glow" id="heroGlow">
            <div class="hero-glow-orb" id="heroGlowOrb"></div>
          </div>
          <div class="hero-content mx-auto max-w-2xl text-center">
            {{ if $announcement.text }}
              <div class="hidden sm:mb-8 sm:flex sm:justify-center">
                <div class="relative rounded-full px-3 py-1 text-sm/6 text-tertiary ring-1 ring-gray-900/10 hover:ring-gray-900/20">
                  {{ $announcement.text }}
                  {{ if $announcement.linkUrl }}
                    <a href="{{ partial "helpers/get-translated-url.html" (dict "url" $announcement.linkUrl) }}" class="font-semibold text-primary hover:text-primary-600">
                      <span class="absolute inset-0" aria-hidden="true"></span>
                      {{ $announcement.linkText }} <span aria-hidden="true">→</span>
                    </a>
                  {{ end }}
                </div>
              </div>
            {{ end }}

            {{ if $heading }}
              <h1 class="text-5xl font-semibold tracking-[-4.248px] leading-none text-balance text-heading sm:text-7xl"{{ if $typewriter.enabled }} data-typewriter data-typewriter-words="{{ $typewriter.words }}" data-typewriter-word-alternatives="{{$typewriter.wordAlternatives}}" data-typewriter-speed="{{ $typewriter.speed }}" data-typewriter-delete-speed="{{ $typewriter.deleteSpeed }}" data-typewriter-pause="{{ $typewriter.pause }}" data-typewriter-color="{{ $typewriter.color }}"{{ end }}>{{ $heading }}</h1>
            {{ end }}
            {{ if $description }}
              <p class="mt-9 text-lg font-medium text-pretty text-secondary sm:text-xl/8 prose-links prose-a:font-medium">{{ $description | safeHTML }}</p>
            {{ end }}

            {{ if $tags }}
                {{ partial "sections/tags/tags.html" (dict "tags" $tags "maxTags" 4 "align" "center") }}
            {{ end }}

            {{ if $resources }}
                <div class="mt-6 flex justify-center">
                  {{ partial "sections/resources/resources.html" (dict "resources" $resources "maxItems" 4 "align" "center") }}
                </div>
            {{ end }}

            {{ $primaryCTA := $cta.primary | default dict }}
            {{ $secondaryCTA := $cta.secondary | default dict }}
            {{ $primaryVariant := $primaryCTA.variant | default "primary" }}
            {{ $secondaryVariant := $secondaryCTA.variant | default "secondary" }}


            {{ if or $primaryCTA.text $secondaryCTA.text }}
              <div class="cta-buttons mt-9 flex items-center justify-center gap-x-6">
                  {{ if $primaryCTA.text }}
                    {{ partial "components/buttons/buttons.html" (dict
                      "text" $primaryCTA.text
                      "url" $primaryCTA.url
                      "variant" $primaryVariant
                    ) }}
                  {{ end }}
                  {{ if $secondaryCTA.text }}
                    {{ partial "components/buttons/buttons.html" (dict
                      "text" $secondaryCTA.text
                      "url" $secondaryCTA.url
                      "variant" $secondaryVariant
                      "arrow" true
                    ) }}
                  {{ end }}
              </div>
            {{ end }}
            
            {{ if $search.enabled }}
              <div class="mt-8 max-w-xl mx-auto">
                {{ partial "search_field.html" (dict
                  "type" "hero-search"
                  "directories" $search.directories
                  "placeholder" $search.placeholder
                ) }}
              </div>
            {{ end }}
          </div>

          {{ if $image.src }}
            <div class="max-md:hidden mt-16 flow-root sm:mt-[4.5rem]">
              <div class="rounded-xl {{ $imgBgClass }}">
                {{ partial "components/media/lazyimg.html" (dict
                  "src" $image.src
                  "alt" $image.alt
                  "class" (cond (and (isset $image "class") (ne $image.class "")) $image.class "w-full mx-auto max-w-[1145px] h-auto object-cover rounded-lg shadow-md")
                  "noLazy" true
                ) }}
              </div>
            </div>
          {{ end }}
        </div>
    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const glowOrb = document.getElementById('heroGlowOrb');
  const heroGlow = document.getElementById('heroGlow');
  
  if (!glowOrb || !heroGlow) return;

  document.addEventListener('mousemove', function(e) {
    const glowRect = heroGlow.getBoundingClientRect();
    const relativeX = e.clientX - glowRect.left;
    const relativeY = e.clientY - glowRect.top;
    
    requestAnimationFrame(function() {
      glowOrb.style.left = relativeX + 'px';
      glowOrb.style.top = relativeY + 'px';
    });
  });
});
</script>
